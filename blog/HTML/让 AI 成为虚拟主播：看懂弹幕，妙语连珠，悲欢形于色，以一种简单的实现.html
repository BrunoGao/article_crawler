
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<div class="App">
 <style data-emotion-css="55n9hh">
  .css-55n9hh{position:fixed;top:0;right:0;left:0;z-index:101;display:none;height:2px;pointer-events:none;background:#1772F6;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}
 </style>
 <div class="LoadingBar css-55n9hh">
 </div>
 <div>
  <span aria-live="assertive" role="log" style="position:absolute;top:-10000px;left:-10000px">
  </span>
 </div>
 <main class="App-main" role="main">
  <div class="Post-content" data-zop='{"authorName":"cdfmlr","itemId":609878670,"title":"让 AI 成为虚拟主播：看懂弹幕，妙语连珠，悲欢形于色，以一种简单的实现","type":"article"}' data-zop-usertoken='{"userToken":""}'>
   <div class="ColumnPageHeader-Wrapper">
    <div>
     <style data-emotion-css="1l12z7y">
      .css-1l12z7y{box-shadow:0px 16px 32px rgba(0,0,0,0.04);}
     </style>
     <div class="Sticky ColumnPageHeader css-1l12z7y">
      <div class="ColumnPageHeader-content">
       <a aria-label="知乎" href="//www.zhihu.com">
        <style data-emotion-css="1hlrcxk">
         .css-1hlrcxk{-webkit-transition-property:fill;transition-property:fill;-webkit-transition-duration:0.25s;transition-duration:0.25s;-webkit-transition-timing-function:ease-in;transition-timing-function:ease-in;}
        </style>
        <svg class="css-1hlrcxk" fill="#1772F6" height="30" viewbox="0 0 64 30" width="64">
         <path d="M29.05 4.582H16.733V25.94h3.018l.403 2.572 4.081-2.572h4.815V4.582zm-5.207 18.69l-2.396 1.509-.235-1.508h-1.724V7.233h6.78v16.04h-2.425zM14.46 14.191H9.982c0-.471.033-.954.039-1.458v-5.5h5.106V5.935a1.352 1.352 0 0 0-.404-.957 1.378 1.378 0 0 0-.968-.396H5.783c.028-.088.056-.177.084-.255.274-.82 1.153-3.326 1.153-3.326a4.262 4.262 0 0 0-2.413.698c-.57.4-.912.682-1.371 1.946-.532 1.453-.997 2.856-1.31 3.693C1.444 8.674.28 11.025.28 11.025a5.85 5.85 0 0 0 2.52-.61c1.119-.593 1.679-1.502 2.054-2.883l.09-.3h2.334v5.5c0 .5-.045.982-.073 1.46h-4.12c-.71 0-1.39.278-1.893.775a2.638 2.638 0 0 0-.783 1.874h6.527a17.717 17.717 0 0 1-.778 3.649 16.796 16.796 0 0 1-3.012 5.273A33.104 33.104 0 0 1 0 28.74s3.13 1.175 5.425-.954c1.388-1.292 2.631-3.814 3.23-5.727a28.09 28.09 0 0 0 1.12-5.229h5.967v-1.37a1.254 1.254 0 0 0-.373-.899 1.279 1.279 0 0 0-.909-.37z">
         </path>
         <path d="M11.27 19.675l-2.312 1.491 5.038 7.458a6.905 6.905 0 0 0 .672-2.218 3.15 3.15 0 0 0-.28-2.168l-3.118-4.563zM51.449 15.195V5.842c4.181-.205 7.988-.405 9.438-.483l.851-.05c.387-.399.885-2.395.689-3.021-.073-.25-.213-.666-.638-.555a33.279 33.279 0 0 1-4.277.727c-2.766.321-3.97.404-7.804.682-6.718.487-12.709.72-12.709.72a2.518 2.518 0 0 0 .788 1.834 2.567 2.567 0 0 0 1.883.706c2.278-.095 5.598-.25 8.996-.41v9.203h-12.78c0 .703.281 1.377.783 1.874a2.69 2.69 0 0 0 1.892.777h10.105v7.075c0 .887-.464 1.192-1.231 1.214h-3.92a4.15 4.15 0 0 0 .837 1.544 4.2 4.2 0 0 0 1.403 1.067 6.215 6.215 0 0 0 2.71.277c1.36-.066 2.967-.826 2.967-3.57v-7.607h11.28c.342 0 .67-.135.91-.374.242-.239.378-.563.378-.902v-1.375H51.449z">
         </path>
         <path d="M42.614 8.873a2.304 2.304 0 0 0-1.508-.926 2.334 2.334 0 0 0-1.727.405l-.376.272 4.255 5.85 2.24-1.62-2.884-3.98zM57.35 8.68l-3.125 4.097 2.24 1.663 4.517-5.927-.375-.277a2.32 2.32 0 0 0-1.722-.452 2.327 2.327 0 0 0-1.536.896z">
         </path>
        </svg>
       </a>
       <div class="ColumnPageHeader-Button">
        <div class="Popover">
         <style data-emotion-css="d5yzzu">
          .css-d5yzzu{box-sizing:border-box;margin:0;min-width:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}
         </style>
         <div aria-expanded="false" aria-haspopup="true" aria-owns="null-content" class="Button FEfUrdfMIKpQDJDqkjte Button--plain Button--gray fEPKGkUK5jyc4fUuT0QP css-d5yzzu" id="null-toggle" type="button">
          切换模式
         </div>
        </div>
        <button class="Button ColumnPageHeader-WriteButton FEfUrdfMIKpQDJDqkjte Button--blue JmYzaky7MEPMFcJDLNMG" type="button">
         <svg class="Zi Zi--EditSurround" fill="currentColor" height="24" viewbox="0 0 24 24" width="24">
          <path d="M4.352 6.804A2.554 2.554 0 0 1 6.905 4.25h6.072a.875.875 0 0 0 0-1.75H6.905a4.304 4.304 0 0 0-4.303 4.304v10.142a4.304 4.304 0 0 0 4.303 4.304h10.143a4.304 4.304 0 0 0 4.304-4.304v-6.071a.875.875 0 0 0-1.75 0v6.071a2.554 2.554 0 0 1-2.554 2.554H6.905a2.554 2.554 0 0 1-2.553-2.554V6.804Z">
          </path>
          <path d="M20.595 4.731a.875.875 0 1 0-1.237-1.237l-7.763 7.762a.875.875 0 1 0 1.238 1.238l7.762-7.763Z">
          </path>
         </svg>
         写文章
        </button>
       </div>
      </div>
      <div class="ColumnPageHeader-profile">
       <div>
        <style data-emotion-css="1ay9vb9">
         .css-1ay9vb9{margin-right:16px;}
        </style>
        <style data-emotion-css="1rwz7is">
         .css-1rwz7is{display:inline-block;padding:0 16px;font-size:14px;line-height:32px;color:#ffffff;text-align:center;cursor:pointer;background:none;border:1px solid;border-radius:3px;background-color:#1772F6;border-color:#1772F6;margin-right:16px;}.css-1rwz7is::mozFocusInner{padding:0;border:0;}.css-1rwz7is:focus{outline:none;-webkit-transition:box-shadow 0.3s;transition:box-shadow 0.3s;}.css-1rwz7is:focus-visible{box-shadow:0 0 0 2px #ffffff,0 0 0 4px rgba(23,114,246,0.3);}.css-1rwz7is:disabled{cursor:default;opacity:0.5;}.css-1rwz7is:hover{border-color:#0a6af5;background-color:#0a6af5;}
        </style>
        <button class="Button Button--primary Button--blue css-1rwz7is" type="button">
         登录/注册
        </button>
        <style data-emotion-css="1fv1gmw">
         .css-1fv1gmw{position:fixed;bottom:50px;right:64px;width:336px;z-index:2;}
        </style>
       </div>
      </div>
     </div>
    </div>
   </div>
   <style data-emotion-css="78p1r9">
    .css-78p1r9{box-sizing:border-box;margin:0;min-width:0;margin-left:auto;margin-right:auto;max-width:690px;margin-top:0;}@media screen and (min-width:40em){.css-78p1r9{margin-top:1em;}}
   </style>
   <div class="css-78p1r9">
    <style data-emotion-css="1xa1hik">
     .css-1xa1hik{position:relative;padding-bottom:56%;height:0;border-radius:inherit;}
    </style>
    <style data-emotion-css="1h1xzpn">
     .css-1h1xzpn{box-sizing:border-box;margin:0;min-width:0;position:relative;padding-bottom:56%;height:0;border-radius:inherit;}
    </style>
    <div class="css-1h1xzpn">
     <style data-emotion-css="1ld0bim">
      .css-1ld0bim{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;}
     </style>
     <div class="css-1ld0bim">
      <style data-emotion-css="1t23x0k">
       .css-1t23x0k{object-fit:cover;background-color:#f8f8fa;}
      </style>
      ![让 AI 成为虚拟主播：看懂弹幕，妙语连珠，悲欢形于色，以一种简单的实现](data:image/svg+xml;utf8,
      <svg xmlns="http://www.w3.org/2000/svg">
      </svg>
      )
     </div>
    </div>
   </div>
   <article class="Post-Main Post-NormalMain" tabindex="-1">
    <header class="Post-Header">
     <h1 class="Post-Title">
      让 AI 成为虚拟主播：看懂弹幕，妙语连珠，悲欢形于色，以一种简单的实现
     </h1>
     <div class="Post-Author">
      <div class="AuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
       <div class="AuthorInfo">
        <meta content="cdfmlr" itemprop="name"/>
        <meta content="https://picx.zhimg.com/v2-eb571fd946d84344d96baae311430192_l.jpg?source=172ae18b" itemprop="image"/>
        <meta content="https://www.zhihu.com/people/cdfmlr" itemprop="url"/>
        <meta itemprop="zhihu:followerCount"/>
        <span class="UserLink AuthorInfo-avatarWrapper">
         <a class="UserLink-link" data-za-detail-view-element_name="User" href="//www.zhihu.com/people/cdfmlr" target="_blank">
          <style data-emotion-css="uodor8">
           .css-uodor8{border-radius:50%;}
          </style>
          <style data-emotion-css="1syywx2">
           .css-1syywx2{box-sizing:border-box;margin:0;min-width:0;max-width:100%;height:auto;background-color:#ffffff;width:38px;height:38px;border-radius:50%;}
          </style>
          ![cdfmlr](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/blog/v2-eb571fd946d84344d96baae311430192_l.jpg?source=172ae18b)
         </a>
        </span>
        <div class="AuthorInfo-content">
         <div class="AuthorInfo-head">
          <span class="UserLink AuthorInfo-name">
           <a class="UserLink-link" data-za-detail-view-element_name="User" href="//www.zhihu.com/people/cdfmlr" target="_blank">
            cdfmlr
           </a>
           <style data-emotion-css="1cd9gw4">
            .css-1cd9gw4{margin-left:.3em;}
           </style>
          </span>
         </div>
         <div class="AuthorInfo-detail">
          <div class="AuthorInfo-badge">
           <div class="ztext AuthorInfo-badgeText css-0">
            抱歉要你面对一个总是心不在焉的我。
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <style data-emotion-css="z4ujak">
      .css-z4ujak{color:#8491a5;}
     </style>
     <span class="css-z4ujak">
     </span>
    </header>
    <div class="Post-RichTextContainer">
     <style data-emotion-css="1yuhvjn">
      .css-1yuhvjn{margin-top:16px;}
     </style>
     <div class="css-1yuhvjn">
      <style data-emotion-css="376mun">
       .css-376mun{position:relative;display:inline;}
      </style>
      <div class="css-376mun">
       <style data-emotion-css="dg64xe">
        .css-dg64xe .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(248,248,250,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-dg64xe .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-dg64xe .FileLinkCard-info{margin-left:12px;}.css-dg64xe .FileLinkCard-name{color:#191B1F;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-dg64xe .FileLinkCard-meta{color:#9196a1;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-dg64xe .FileLinkCard-source{white-space:pre;}.css-dg64xe img[data-uncomfortable]{content:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20344.88888888888886%20194%22%3E%3CforeignObject%20width%3D%22344.88888888888886%22%20height%3D%22194%22%3E%0A%20%20%20%20%20%20%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22font-size%3A%2013px%3B%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20Microsoft%20YaHei%2C%20sans-serif%3B%20color%3A%20%23fff%3B%20width%3A100%25%3B%20height%3A194px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20height%3A%20100%25%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M8%203.65a7%207%200%2000-1.353.128.65.65%200%2011-.25-1.275A8.3%208.3%200%20018%202.35c2.387%200%204.172.954%205.357%202.125C14.511%205.615%2015.15%207.022%2015.15%208c0%20.621-.257%201.391-.699%202.134a7.076%207.076%200%2001-1.403%201.68l.495.46a.65.65%200%2011-.886.951l-.998-.929a.645.645%200%2001-.104-.097L9.73%2010.501a.647.647%200%2001-.29.301%203.15%203.15%200%2001-4.313-4.094.647.647%200%2001.234-.275L3.908%205.08a5.774%205.774%200%2000-1.283%201.522C2.282%207.198%202.15%207.707%202.15%208c0%20.522.41%201.616%201.407%202.6.965.954%202.43%201.75%204.443%201.75.468%200%20.905-.043%201.311-.12a.65.65%200%2001.243%201.277A8.322%208.322%200%20018%2013.65c-2.387%200-4.172-.954-5.357-2.125C1.49%2010.385.85%208.978.85%208c0-.598.238-1.333.648-2.046A7.054%207.054%200%20012.95%204.188l-.547-.509a.65.65%200%2011.886-.951l8.8%208.194a5.793%205.793%200%20001.244-1.453c.372-.624.516-1.163.516-1.469%200-.522-.41-1.616-1.407-2.6-.965-.954-2.43-1.75-4.443-1.75zM6.29%207.296a1.85%201.85%200%20002.534%202.36l-2.535-2.36zM8%204.85a.65.65%200%20100%201.3%201.85%201.85%200%20011.843%201.694.65.65%200%20101.296-.11A3.15%203.15%200%20008%204.85z%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin%3A%20.6em%200%201.2em%22%3E%E8%AF%A5%E5%9B%BE%E7%89%87%E6%9C%89%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E4%B8%8D%E9%80%82%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20style%3D%22padding%3A%204px%201em%3B%20font-size%3A%201.1em%3B%20color%3A%20inherit%3B%20background%3A%20none%3B%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C.5%29%3B%20border-radius%3A%209999px%3B%22%3E%E7%BB%A7%E7%BB%AD%E6%9F%A5%E7%9C%8B%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2FforeignObject%3E%3C%2Fsvg%3E);width:100%;height:194px;background:url(https://pic1.zhimg.com/v2-cf70d0759d787c70091857151c1cad4a.jpeg) no-repeat rgba(191,191,191,0.7);background-size:cover;cursor:pointer!important;}.css-dg64xe img.content_image[data-size="normal"],.css-dg64xe img.origin_image[data-size="normal"]{width:100%;max-width:100%;}.css-dg64xe img.content_image[data-size="small"],.css-dg64xe img.origin_image[data-size="small"]{width:320px;max-width:100%;}
       </style>
       <style data-emotion-css="1vqsdx1">
        .css-1vqsdx1 .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#f8f8fa;}.css-1vqsdx1 .LinkCard.new,.css-1vqsdx1 .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1vqsdx1 .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-1vqsdx1 .LinkCard.new .LinkCard-contents .loading{height:14px;background:#ebeced;border-radius:7px;}.css-1vqsdx1 .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-1vqsdx1 .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#191B1F;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1vqsdx1 .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-1vqsdx1 .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-1vqsdx1 .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-1vqsdx1 .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-1vqsdx1 .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#9196a1;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1vqsdx1 .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#373a40;}.css-1vqsdx1 .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#9196a1;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1vqsdx1 .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-1vqsdx1 .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(196,199,206,0.3);}.css-1vqsdx1 .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-1vqsdx1 .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-1vqsdx1 .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#ebeced;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-1vqsdx1 .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#ebeced;color:#c4c7ce;}.css-1vqsdx1 .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#9196a1;}.css-1vqsdx1 .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-1vqsdx1 .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-1vqsdx1 .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#373a40;}.css-1vqsdx1 .LinkCard.new .LinkCard-richText .text{color:#373a40;}.css-1vqsdx1 .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-1vqsdx1 .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-1vqsdx1 .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-1vqsdx1 .LinkCard.old,.css-1vqsdx1 .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1vqsdx1 .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(248,248,250,0.88);color:#c4c7ce;}.css-1vqsdx1 .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#ebeced;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-1vqsdx1 .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-1vqsdx1 .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1vqsdx1 .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#ebeced;}.css-1vqsdx1 .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-1vqsdx1 .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}
       </style>
       <style data-emotion-css="yxro2d">
        .css-yxro2d .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-yxro2d .LinkCard.old,.css-yxro2d .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-yxro2d .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(248,248,250,0.88);color:#c4c7ce;}.css-yxro2d .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#ebeced;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-yxro2d .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-yxro2d .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-yxro2d .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#ebeced;}.css-yxro2d .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-yxro2d .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}.css-yxro2d .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#f8f8fa;}.css-yxro2d .LinkCard.new,.css-yxro2d .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-yxro2d .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-yxro2d .LinkCard.new .LinkCard-contents .loading{height:14px;background:#ebeced;border-radius:7px;}.css-yxro2d .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-yxro2d .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#191B1F;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-yxro2d .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-yxro2d .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-yxro2d .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-yxro2d .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-yxro2d .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#9196a1;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-yxro2d .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#373a40;}.css-yxro2d .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#9196a1;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-yxro2d .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-yxro2d .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(196,199,206,0.3);}.css-yxro2d .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-yxro2d .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-yxro2d .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#ebeced;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-yxro2d .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#ebeced;color:#c4c7ce;}.css-yxro2d .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#9196a1;}.css-yxro2d .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-yxro2d .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-yxro2d .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#373a40;}.css-yxro2d .LinkCard.new .LinkCard-richText .text{color:#373a40;}.css-yxro2d .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-yxro2d .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-yxro2d .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(248,248,250,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-yxro2d .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-yxro2d .FileLinkCard-info{margin-left:12px;}.css-yxro2d .FileLinkCard-name{color:#191B1F;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-yxro2d .FileLinkCard-meta{color:#9196a1;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-yxro2d .FileLinkCard-source{white-space:pre;}.css-yxro2d img[data-uncomfortable]{content:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20344.88888888888886%20194%22%3E%3CforeignObject%20width%3D%22344.88888888888886%22%20height%3D%22194%22%3E%0A%20%20%20%20%20%20%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22font-size%3A%2013px%3B%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20Microsoft%20YaHei%2C%20sans-serif%3B%20color%3A%20%23fff%3B%20width%3A100%25%3B%20height%3A194px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20height%3A%20100%25%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M8%203.65a7%207%200%2000-1.353.128.65.65%200%2011-.25-1.275A8.3%208.3%200%20018%202.35c2.387%200%204.172.954%205.357%202.125C14.511%205.615%2015.15%207.022%2015.15%208c0%20.621-.257%201.391-.699%202.134a7.076%207.076%200%2001-1.403%201.68l.495.46a.65.65%200%2011-.886.951l-.998-.929a.645.645%200%2001-.104-.097L9.73%2010.501a.647.647%200%2001-.29.301%203.15%203.15%200%2001-4.313-4.094.647.647%200%2001.234-.275L3.908%205.08a5.774%205.774%200%2000-1.283%201.522C2.282%207.198%202.15%207.707%202.15%208c0%20.522.41%201.616%201.407%202.6.965.954%202.43%201.75%204.443%201.75.468%200%20.905-.043%201.311-.12a.65.65%200%2001.243%201.277A8.322%208.322%200%20018%2013.65c-2.387%200-4.172-.954-5.357-2.125C1.49%2010.385.85%208.978.85%208c0-.598.238-1.333.648-2.046A7.054%207.054%200%20012.95%204.188l-.547-.509a.65.65%200%2011.886-.951l8.8%208.194a5.793%205.793%200%20001.244-1.453c.372-.624.516-1.163.516-1.469%200-.522-.41-1.616-1.407-2.6-.965-.954-2.43-1.75-4.443-1.75zM6.29%207.296a1.85%201.85%200%20002.534%202.36l-2.535-2.36zM8%204.85a.65.65%200%20100%201.3%201.85%201.85%200%20011.843%201.694.65.65%200%20101.296-.11A3.15%203.15%200%20008%204.85z%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin%3A%20.6em%200%201.2em%22%3E%E8%AF%A5%E5%9B%BE%E7%89%87%E6%9C%89%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E4%B8%8D%E9%80%82%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20style%3D%22padding%3A%204px%201em%3B%20font-size%3A%201.1em%3B%20color%3A%20inherit%3B%20background%3A%20none%3B%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C.5%29%3B%20border-radius%3A%209999px%3B%22%3E%E7%BB%A7%E7%BB%AD%E6%9F%A5%E7%9C%8B%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2FforeignObject%3E%3C%2Fsvg%3E);width:100%;height:194px;background:url(https://pic1.zhimg.com/v2-cf70d0759d787c70091857151c1cad4a.jpeg) no-repeat rgba(191,191,191,0.7);background-size:cover;cursor:pointer!important;}.css-yxro2d img.content_image[data-size="normal"],.css-yxro2d img.origin_image[data-size="normal"]{width:100%;max-width:100%;}.css-yxro2d img.content_image[data-size="small"],.css-yxro2d img.origin_image[data-size="small"]{width:320px;max-width:100%;}
       </style>
       <style data-emotion-css="jflero animation-1yvu044">
        .css-jflero{word-break:break-word;line-height:1.6;}.css-jflero > [data-first-child]{margin-top:0;}.css-jflero > :last-child{margin-bottom:0;}.css-jflero h1,.css-jflero h2{clear:left;margin-top:calc((1.4em * 2) / 1.2);margin-bottom:calc(1.4em / 1.2);font-size:1.2em;line-height:1.5;font-weight:600;}.css-jflero h3,.css-jflero h4,.css-jflero h5,.css-jflero h6{clear:left;margin-top:calc((1.4em * 1.5) / 1.1);margin-bottom:calc(1.4em / 1.1);font-size:1.1em;line-height:1.5;font-weight:600;}.css-jflero u{-webkit-text-decoration:none;text-decoration:none;border-bottom:1px solid #373a40;}.css-jflero b{font-weight:600;}.css-jflero sup{font-size:0.8em;}.css-jflero sup[data-draft-type='reference']{color:#09408e;}.css-jflero a:focus{outline:none;-webkit-transition:box-shadow 0.3s;transition:box-shadow 0.3s;}html[data-focus-visible] .css-jflero a:focus{box-shadow:0 0 0 2px #ffffff,0 0 0 4px rgba(23,114,246,0.3);}.css-jflero a.ztext-link,.css-jflero a.internal,.css-jflero a.external{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;border-bottom:1px solid #81858f;}.css-jflero a.ztext-link:hover,.css-jflero a.internal:hover,.css-jflero a.external:hover{color:#09408e;border-bottom:1px solid #09408e;}.css-jflero a.ztext-link > .ellipsis::after,.css-jflero a.internal > .ellipsis::after,.css-jflero a.external > .ellipsis::after{content:'...';}.css-jflero a.ztext-link > .invisible,.css-jflero a.internal > .invisible,.css-jflero a.external > .invisible{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;}.css-jflero a.ztext-link u,.css-jflero a.internal u,.css-jflero a.external u{border:none;}.css-jflero a.member_mention{color:#09408e;}.css-jflero a.member_mention:hover{border-bottom:1px solid #09408e;}.css-jflero a.UserLink-link{color:#09408e;}.css-jflero a.UserLink-link:hover{border-bottom:1px solid #09408e;}.css-jflero p{margin:1.4em 0;}.css-jflero p.ztext-empty-paragraph{margin:calc((2.8em- (1.4em * 2 + 1.6em)) / 2) 0;}.css-jflero p.ztext-empty-paragraph + .ztext-empty-paragraph{margin:1.4em 0;}.css-jflero hr{margin:4em auto;width:240px;max-width:100%;border:none;border-top:1px solid #c4c7ce;}.css-jflero img[eeimg]{max-width:100%;vertical-align:middle;}.css-jflero img[eeimg="1"]{margin:0 3px;max-width:calc(100% - 6px);display:inline-block;}.css-jflero img[eeimg="2"]{margin:1.4em auto;display:block;}.css-jflero blockquote{margin:1.4em 0;padding-left:1em;color:#535861;border-left:3px solid #c4c7ce;}.css-jflero ol,.css-jflero ul{margin:1.4em 0;padding:0;width:100%;}.css-jflero ol ol,.css-jflero ul ol,.css-jflero ol ul,.css-jflero ul ul{margin:0;}.css-jflero ol li::before,.css-jflero ul li::before{width:1em;}.css-jflero ol > ol,.css-jflero ul > ol,.css-jflero ol > ul,.css-jflero ul > ul{padding-left:1em;box-sizing:border-box;}.css-jflero ul>li{display:table;width:100%;list-style:none;}.css-jflero ul>li::before{display:table-cell;content:'•  ';white-space:pre;}.css-jflero ol{counter-reset:ol;}.css-jflero ol > li{display:table;width:100%;list-style:none;}.css-jflero ol > li::before{display:table-cell;text-align:right;counter-increment:ol;content:counter(ol) '. ';white-space:pre;}.css-jflero ol ol{counter-reset:ol2;}.css-jflero ol ol li::before{counter-increment:ol2;content:counter(ol2) '. ';}.css-jflero ol ol ol{counter-reset:ol3;}.css-jflero ol ol ol li::before{counter-increment:ol3;content:counter(ol3) '. ';}.css-jflero ol ol ol ol{counter-reset:ol4;}.css-jflero ol ol ol ol li::before{counter-increment:ol4;content:counter(ol4) '. ';}.css-jflero figure{margin:1.4em 0;}.css-jflero figure .content_image,.css-jflero figure .origin_image{margin:0 auto;}.css-jflero figure figcaption{margin-top:calc(0.6em / 0.9);padding:0 1em;font-size:0.9em;line-height:1.5;text-align:center;color:#9196a1;}.css-jflero figure + figure{margin-top:calc(1.4em * 1.6);}.css-jflero figure[data-size='small'],.css-jflero figure:not([data-size]) > [data-size='small']{clear:both;}.css-jflero figure[data-size='left'],.css-jflero figure:not([data-size]) > [data-size='left']{float:left;margin:0 20px 20px 0;max-width:33%;}.css-jflero figure[data-size='right'],.css-jflero figure:not([data-size]) > [data-size='right']{float:right;margin:0 0 20px 20px;max-width:33%;}.css-jflero figure[data-size='collapse']{margin-bottom:0;}.css-jflero figure[data-size='collapse'] + figure{margin-top:0;}.css-jflero .content_image,.css-jflero .origin_image{display:block;max-width:100%;height:auto;margin:1.4em auto;}.css-jflero .content_image[data-size='small'],.css-jflero .origin_image[data-size='small']{max-width:40%;}.css-jflero .content_image.zh-lightbox-thumb,.css-jflero .origin_image.zh-lightbox-thumb{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in;}.css-jflero code{margin:0 2px;padding:3px 4px;border-radius:3px;font-family:Menlo,Monaco,Consolas,'Andale Mono','lucida console','Courier New',monospace;font-size:0.9em;background-color:#f8f8fa;}.css-jflero pre{margin:1.4em 0;padding:calc(0.8em / 0.9);font-size:0.9em;word-break:initial;word-wrap:initial;white-space:pre;overflow:auto;-webkit-overflow-scrolling:touch;background:#f8f8fa;border-radius:4px;}.css-jflero pre code{margin:0;padding:0;font-size:inherit;border-radius:0;background-color:inherit;}.css-jflero li pre{white-space:pre-wrap;}.css-jflero table[data-draft-type='table']{border-collapse:collapse;font-size:15px;margin:1.4em auto;max-width:100%;table-layout:fixed;text-align:left;width:100%;}.css-jflero table[data-draft-type='table'][data-size='small']{min-width:260px;width:40%;}.css-jflero table[data-draft-type='table'][data-row-style='striped'] tr:nth-of-type(2n + 1){background:#f8f8fa;}.css-jflero table[data-draft-type='table'] td,.css-jflero table[data-draft-type='table'] th{border:1px solid #c4c7ce;line-height:24px;height:24px;padding:3px 12px;}.css-jflero table[data-draft-type='table'] th{background:#ebeced;color:#191B1F;font-weight:500;}.css-jflero .video-box,.css-jflero .link-box{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin:1.4em 0;overflow:auto;white-space:normal;cursor:pointer;border:solid 1px #ebeced;border-radius:4px;}.css-jflero .lazy[data-lazy-status]{background-color:#f8f8fa;}.css-jflero .lazy[data-lazy-status="ok"]{background-color:transparent;-webkit-animation:animation-1yvu044 0.5s ease-in;animation:animation-1yvu044 0.5s ease-in;}.css-jflero .highlight{margin:1em 0;}.css-jflero .highlight pre{margin:0;}.css-jflero .highlight .hll{background-color:#f8f8fa;}.css-jflero .highlight .c{font-style:italic;color:#9196a1;}.css-jflero .highlight .err{color:#D95350;}.css-jflero .highlight .k{font-weight:600;}.css-jflero .highlight .o{font-weight:600;}.css-jflero .highlight .cm{font-style:italic;color:#9196a1;}.css-jflero .highlight .cp{font-weight:600;color:#9196a1;}.css-jflero .highlight .c1{font-style:italic;color:#9196a1;}.css-jflero .highlight .cs{font-style:italic;font-weight:600;color:#9196a1;}.css-jflero .highlight .gd{color:#F05159;}.css-jflero .highlight .ge{font-style:italic;}.css-jflero .highlight .gr{color:#D95350;}.css-jflero .highlight .gh{color:#9196a1;}.css-jflero .highlight .gi{color:#12b370;}.css-jflero .highlight .go{color:#81858f;}.css-jflero .highlight .gp{color:#535861;}.css-jflero .highlight .gs{font-weight:600;}.css-jflero .highlight .gu{color:#9196a1;}.css-jflero .highlight .gt{color:#D95350;}.css-jflero .highlight .kc{font-weight:600;}.css-jflero .highlight .kd{font-weight:600;}.css-jflero .highlight .kn{font-weight:600;}.css-jflero .highlight .kp{font-weight:600;}.css-jflero .highlight .kr{font-weight:600;}.css-jflero .highlight .kt{font-weight:600;color:#09408e;}.css-jflero .highlight .m{color:#1772F6;}.css-jflero .highlight .s{color:#D95350;}.css-jflero .highlight .na{color:#1772F6;}.css-jflero .highlight .nb{color:#1772F6;}.css-jflero .highlight .nc{font-weight:600;color:#09408e;}.css-jflero .highlight .no{color:#1772F6;}.css-jflero .highlight .ni{color:#6A5FF3;}.css-jflero .highlight .ne{font-weight:600;color:#D95350;}.css-jflero .highlight .nf{font-weight:600;color:#D95350;}.css-jflero .highlight .nn{color:#535861;}.css-jflero .highlight .nt{color:#09408e;}.css-jflero .highlight .nv{color:#1772F6;}.css-jflero .highlight .ow{font-weight:600;}.css-jflero .highlight .w{color:#adb1b7;}.css-jflero .highlight .mf{color:#1772F6;}.css-jflero .highlight .mh{color:#1772F6;}.css-jflero .highlight .mi{color:#1772F6;}.css-jflero .highlight .mo{color:#1772F6;}.css-jflero .highlight .sb{color:#D95350;}.css-jflero .highlight .sc{color:#D95350;}.css-jflero .highlight .sd{color:#D95350;}.css-jflero .highlight .s2{color:#D95350;}.css-jflero .highlight .se{color:#D95350;}.css-jflero .highlight .sh{color:#D95350;}.css-jflero .highlight .si{color:#D95350;}.css-jflero .highlight .sx{color:#D95350;}.css-jflero .highlight .sr{color:#A5542F;}.css-jflero .highlight .s1{color:#D95350;}.css-jflero .highlight .ss{color:#D95350;}.css-jflero .highlight .bp{color:#9196a1;}.css-jflero .highlight .vc{color:#1772F6;}.css-jflero .highlight .vg{color:#1772F6;}.css-jflero .highlight .vi{color:#1772F6;}.css-jflero .highlight .il{color:#1772F6;}.css-jflero .highlight::-webkit-scrollbar{width:6px;height:6px;}.css-jflero .highlight::-webkit-scrollbar-thumb:horizontal{background-color:rgba(25,27,31,0.5);border-radius:6px;}.css-jflero .highlight::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(25,27,31,0.6);}.css-jflero .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-jflero .LinkCard.old,.css-jflero .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-jflero .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(248,248,250,0.88);color:#c4c7ce;}.css-jflero .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#ebeced;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-jflero .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-jflero .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-jflero .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#ebeced;}.css-jflero .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-jflero .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}.css-jflero .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#f8f8fa;}.css-jflero .LinkCard.new,.css-jflero .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-jflero .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-jflero .LinkCard.new .LinkCard-contents .loading{height:14px;background:#ebeced;border-radius:7px;}.css-jflero .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-jflero .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#191B1F;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-jflero .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-jflero .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-jflero .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-jflero .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-jflero .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#9196a1;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-jflero .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#373a40;}.css-jflero .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#9196a1;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-jflero .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-jflero .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(196,199,206,0.3);}.css-jflero .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-jflero .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-jflero .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#ebeced;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-jflero .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#ebeced;color:#c4c7ce;}.css-jflero .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#9196a1;}.css-jflero .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-jflero .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-jflero .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#373a40;}.css-jflero .LinkCard.new .LinkCard-richText .text{color:#373a40;}.css-jflero .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-jflero .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-jflero .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(248,248,250,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-jflero .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-jflero .FileLinkCard-info{margin-left:12px;}.css-jflero .FileLinkCard-name{color:#191B1F;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-jflero .FileLinkCard-meta{color:#9196a1;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-jflero .FileLinkCard-source{white-space:pre;}.css-jflero img[data-uncomfortable]{content:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20344.88888888888886%20194%22%3E%3CforeignObject%20width%3D%22344.88888888888886%22%20height%3D%22194%22%3E%0A%20%20%20%20%20%20%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22font-size%3A%2013px%3B%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20Microsoft%20YaHei%2C%20sans-serif%3B%20color%3A%20%23fff%3B%20width%3A100%25%3B%20height%3A194px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20height%3A%20100%25%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M8%203.65a7%207%200%2000-1.353.128.65.65%200%2011-.25-1.275A8.3%208.3%200%20018%202.35c2.387%200%204.172.954%205.357%202.125C14.511%205.615%2015.15%207.022%2015.15%208c0%20.621-.257%201.391-.699%202.134a7.076%207.076%200%2001-1.403%201.68l.495.46a.65.65%200%2011-.886.951l-.998-.929a.645.645%200%2001-.104-.097L9.73%2010.501a.647.647%200%2001-.29.301%203.15%203.15%200%2001-4.313-4.094.647.647%200%2001.234-.275L3.908%205.08a5.774%205.774%200%2000-1.283%201.522C2.282%207.198%202.15%207.707%202.15%208c0%20.522.41%201.616%201.407%202.6.965.954%202.43%201.75%204.443%201.75.468%200%20.905-.043%201.311-.12a.65.65%200%2001.243%201.277A8.322%208.322%200%20018%2013.65c-2.387%200-4.172-.954-5.357-2.125C1.49%2010.385.85%208.978.85%208c0-.598.238-1.333.648-2.046A7.054%207.054%200%20012.95%204.188l-.547-.509a.65.65%200%2011.886-.951l8.8%208.194a5.793%205.793%200%20001.244-1.453c.372-.624.516-1.163.516-1.469%200-.522-.41-1.616-1.407-2.6-.965-.954-2.43-1.75-4.443-1.75zM6.29%207.296a1.85%201.85%200%20002.534%202.36l-2.535-2.36zM8%204.85a.65.65%200%20100%201.3%201.85%201.85%200%20011.843%201.694.65.65%200%20101.296-.11A3.15%203.15%200%20008%204.85z%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin%3A%20.6em%200%201.2em%22%3E%E8%AF%A5%E5%9B%BE%E7%89%87%E6%9C%89%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E4%B8%8D%E9%80%82%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20style%3D%22padding%3A%204px%201em%3B%20font-size%3A%201.1em%3B%20color%3A%20inherit%3B%20background%3A%20none%3B%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C.5%29%3B%20border-radius%3A%209999px%3B%22%3E%E7%BB%A7%E7%BB%AD%E6%9F%A5%E7%9C%8B%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2FforeignObject%3E%3C%2Fsvg%3E);width:100%;height:194px;background:url(https://pic1.zhimg.com/v2-cf70d0759d787c70091857151c1cad4a.jpeg) no-repeat rgba(191,191,191,0.7);background-size:cover;cursor:pointer!important;}.css-jflero img.content_image[data-size="normal"],.css-jflero img.origin_image[data-size="normal"]{width:100%;max-width:100%;}.css-jflero img.content_image[data-size="small"],.css-jflero img.origin_image[data-size="small"]{width:320px;max-width:100%;}@-webkit-keyframes animation-1yvu044{from{opacity:0;}to{opacity:1;}}@keyframes animation-1yvu044{from{opacity:0;}to{opacity:1;}}
       </style>
       <div class="RichText ztext Post-RichText css-jflero" options="[object Object]">
        <p data-first-child="" data-pid="0OGueuGg">
         动手写一个AI虚拟主播。让机器看懂弹幕，大声闲聊，并用Live2D展现符合心情的动作和表情。以一种简单的实现！人人能学会。
        </p>
        <a class="LinkCard new" data-draft-node="block" data-draft-type="link-card" data-text="muvtuber - makes your AI vtuber" href="https://link.zhihu.com/?target=https%3A//github.com/cdfmlr/muvtuber" target="_blank">
         <span class="LinkCard-contents">
          <span class="LinkCard-title loading" data-text="true">
          </span>
          <span class="LinkCard-desc loading">
          </span>
         </span>
         <span class="LinkCard-image LinkCard-image--default">
         </span>
        </a>
        <blockquote data-pid="F4kXzn9W">
         这不是你期望的介绍深度学习大模型的文章。而是使用人人都能理解、编程、运行的简单技术（包括机器学习和非机器学习技术），通过一系列工程进行整合、组装，从而实现一个 AI 虚拟主播的故事。
        </blockquote>
        <h2>
         muvtuber
        </h2>
        <blockquote data-pid="4YwbAVTC">
         让 AI 成为虚拟主播：看懂弹幕，妙语连珠，悲欢形于色，以一种简单的实现
        </blockquote>
        <p data-pid="z0OhQeiA">
         元宇宙终于不再铺天盖地，ChatGPT 又来遮天蔽日。看不下去了，那当然是选择——加入这虚浮的演出，诶嘿～（误）
        </p>
        <h3>
         想法
        </h3>
        <p data-pid="L--A1aBx">
         ~~蹭热度的~~想法是这样：元宇宙 =&gt; 皮套人，ChatGPT =&gt; 中之人，放到一起：AI 主播！
        </p>
        <p data-pid="Wq9Ht8h-">
         咳，实际上没那么假大空啦。真实的故事是这样：
        </p>
        <p data-pid="N3xlwHIR">
         既然我可以
         <a class="internal" href="https://zhuanlan.zhihu.com/p/475433421">
          让 AI 看懂你的心情，并推荐应景的音乐，以一种简单的实现
         </a>
         ，那么，我还想再进一步！让 AI 站到唱机背后，聆听你的故事，为你播出此时此刻萦绕心中、却难以言表的那段旋律。曲终意犹未尽当时 ，一段 AI 细语入耳更入心 —— 机器不是冰冷的玩具，她比你更懂你，至少她更懂那个真实的你：她不会说谎，而你每天都在骗自己。
        </p>
        <p data-pid="K-QbSyvS">
         这个想法指向的产品是一个 AI 电台，我把它叫做 muradio。在细化设计的过程中，我不得不考虑电台的传播问题。我当然可以在本地完成一切，让 AI 电台只为你一人播，这样实现起来还简单；但是，电台果然还是要大家一起分享吧。所以，我考虑用一种现代的方式——视频直播。
        </p>
        <p data-pid="TMLhCD_U">
         那么，在实现 muradio 之前，先让 AI 学会直播吧！
        </p>
        <h3>
         设计
        </h3>
        <p data-pid="T9f-M3rJ">
         我把这个 AI 主播叫做 muvtuber [^mu]。
        </p>
        <p data-pid="eG-k4pgv">
         [^mu]: 何谓“mu”：一说是 machine/you 的缩写：这个系列用于探索机器与人、人工智能与艺术。另有一说 mu... 是 make your ... 的意思：保持简单，开源共享，人人都能做。（事实上 mu 最初的来源是 music，所以这些探索的切入点是：音乐、分享、感动。）
        </p>
        <h3>
         人是如何做的
        </h3>
        <p data-pid="vanHXwBV">
         要设计一个直播的机器，其实很简单。首先考察人是如何完成直播的：
        </p>
        <ul>
         <li data-pid="LvX522QL">
          首先需要一个人作为主播：这个人是会动会说话的，心情是会写在脸上的；（只是以普遍理性而论，非必要条件，更非歧视残障人士。）
         </li>
         <li data-pid="hB_jZSeE">
          在开始前有一个预订的主题，也可能没有；
         </li>
         <li data-pid="k1GCP4Wx">
          主线：推进主题：打游戏、一起看、点歌 ...；
         </li>
         <li data-pid="2l2thsqO">
          支线：主线被弹幕打断，转而与观众互动：聊天；
         </li>
         <li data-pid="jZAzUi2v">
          最后，需要一个直播推流工具，比如 OBS。
         </li>
        </ul>
        <p data-pid="PFIYu1uE">
         互动是直播的灵魂。直播没有主题仍是直播，而没有了互动就成了电视。简单起见，我们先忽略主题问题，只考虑注入灵魂的互动实现。互动的过程如下：
        </p>
        <ul>
         <li data-pid="sjAz3CLH">
          观察：看到弹幕
         </li>
         <li data-pid="Ki_UPaAH">
          过滤：选择性忽略一些没有意义或太有意义的话
         </li>
         <li data-pid="IOn0ATaP">
          思考：对过滤后留下来的话进行思考 =&gt; 回应的话
         </li>
         <li data-pid="ESzy4Qde">
          过滤：想到的部分话可能是不适合说出的，也要过滤掉
         </li>
         <li data-pid="QAV-th6t">
          发声：把回应说出来
         </li>
         <li data-pid="0RdtN50U">
          动作与表情：伴随观察、思考、表达这个流程的动作控制、表情管理。
         </li>
        </ul>
        <h3>
         用机器模拟人
        </h3>
        <p data-pid="G0xllK0v">
         清楚了直播的处理过程，就容易用机器模拟：
        </p>
        <ul>
         <li data-pid="aUNWwncq">
          主播：我们可以用 Live2D 模型来作为主播本人。
         </li>
         <li data-pid="6AphClzs">
          看弹幕：使用弹幕姬类程序，暴露接口即可：
          <code>
           func danmaku(room) chan text
          </code>
         </li>
         <li data-pid="4KY3WGvO">
          思考：机器文本生成：
          <code>
           func chat(question) answer
          </code>
         </li>
         <li data-pid="syAw2FrB">
          发声：机器语音合成：
          <code>
           func tts(text) audio
          </code>
         </li>
         <li data-pid="xfZElLCx">
          过滤：
          <code>
           func filter(text) bool
          </code>
         </li>
         <li data-pid="UmNAZFcy">
          动作表情：Live2D 模型可以具有动作、表情，可以通过某种方式驱动。
         </li>
        </ul>
        <p data-pid="YJ-tHZcp">
         Live2D 和弹幕姬是现成的解决方案，而从看弹幕、到思考、到发声的整个流程也是非常模块化、函数式的，直观清晰。难点是如何让 Live2D 模型动起来？
        </p>
        <p data-pid="2bLPA--6">
         模型何时该摆什么样的表情，何时该做什么样的动作？真人主播解决这个问题靠得是本能，虚拟主播解决这个问题靠得是动捕——归根到底还是人。看来现实不能直接借鉴，那么只好做个抽象了。
        </p>
        <p data-pid="_unMK4jp">
         我认为，表情是
         <b>
          心情
         </b>
         的反映，动作是
         <b>
          表达
         </b>
         的延伸。~~淦我写不清关于
         <code>
          心情 =&gt; 表达 =&gt; 动作
         </code>
         ，所以
         <code>
          动作 = f(心情)
         </code>
         的观点 ~~
        </p>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <figure data-size="normal">
         <noscript>
          ![](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/blog/v2-896d7d71986aec03a0eef737538c6e11_b.jpg)
         </noscript>
         ![](data:image/svg+xml;utf8,
         <svg height="1252" width="1824" xmlns="http://www.w3.org/2000/svg">
         </svg>
         )
         <figcaption>
          （救命怎么会有人问 ChatGPT “我要如何解释我的观点？” )
         </figcaption>
        </figure>
        <p data-pid="-fVrngHX">
         所以说，我们可以用“心情”来驱动 Live2D，赋予 AI 主播表情与动作。
        </p>
        <p data-pid="3o1_rBDM">
         那么，我们又如何让机器拥有“心情”呢？事实上，在前文提到的
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//juejin.cn/post/7070819253309407268" rel="nofollow noreferrer" target="_blank">
          让 AI 看懂你的心情，并推荐应景的音乐，以一种简单的实现
         </a>
         一文的“中文文本情感分析”小节中，我们用一种及其简单的方式，实现了一种
         <code>
          文本 -&gt; 心情
         </code>
         的模型。这里我们就沿用当时的成果，不作额外介绍了，新读者可以先去阅读那篇文章的对应部分。
        </p>
        <p data-pid="AXt9QFEK">
         总之，我们可以用“思考”的输出，即主播要说的话，通过文本情感分析技术，反推出主播的心情，然后根据心情，就可以控制 Live2D 模型做出合适的表情、动作。
        </p>
        <h3>
         整体设计
        </h3>
        <p data-pid="94iIiF15">
         小结一下上述设计，我们用机器来模拟人类主播，完成与观众的闲聊交互，整个过程如下图所示：
        </p>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <figure data-size="normal">
         <noscript>
          ![](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/blog/v2-3bb8991392f2eaf26382a2faa235d5e7_b.jpg)
         </noscript>
         ![](data:image/svg+xml;utf8,
         <svg height="1827" width="3132" xmlns="http://www.w3.org/2000/svg">
         </svg>
         )
        </figure>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <p data-pid="dMG4Ikn8">
         我们把 muvtuber 分成了一个个独立的模块。每个模块使用独立的技术栈，实现自己的工作，并通过某种方式暴露 API，供他人调用。最后，我们会通过一个“驱动程序”
         <code>
          muvtuberdriver
         </code>
         来调用各个模块，通过一个顺序流程，实现上图所示的数据流动。
        </p>
        <h3>
         组件实现
        </h3>
        <p data-pid="uUXozF5K">
         本节介绍对上述 muvtuber 设计方案的实现。我会先写各个独立组件，再写如何把他们组装到一起完成工作。喜欢“自顶向下”的读者请自行安排阅读顺序。
        </p>
        <p data-pid="J1yGovcS">
         这是一个拥有众多组件的项目，装起 numpy 从头撸似乎不够明智。我们会心怀感激地借助一些开源项目。我希望提供一种最简单的实现——面向麻(my)瓜(self)编程——只写必要的、能理解的代码。
        </p>
        <blockquote data-pid="xWG5UkVg">
         先修课程：这是个 Web 前端 + 后端 + 机器学习的综合项目，需要使用到 Vue（TypeScript）、Go、Python 等相关语言和技术。
        </blockquote>
        <p data-pid="63CNft0e">
         文短码长，下文只给出必要的设计、核心的代码，忽略错误处理、并发安全等等工程中实际的问题。真实的代码实现，请读者参考源码：
        </p>
        <table data-draft-node="block" data-draft-type="table" data-row-style="normal" data-size="normal">
         <tbody>
          <tr>
           <th>
            服务
           </th>
           <th>
            说明
           </th>
          </tr>
          <tr>
           <td>
            xfgryujk/blivechat
           </td>
           <td>
            获取直播间弹幕消息
           </td>
          </tr>
          <tr>
           <td>
            Live2dView
           </td>
           <td>
            前端：显示 Live2D 模型
           </td>
          </tr>
          <tr>
           <td>
            Live2dDriver
           </td>
           <td>
            驱动前端 Live2D 模型动作表情
           </td>
          </tr>
          <tr>
           <td>
            ChatGPTChatbot
           </td>
           <td>
            基于 ChatGPT 的优质聊天机器人
           </td>
          </tr>
          <tr>
           <td>
            MusharingChatbot
           </td>
           <td>
            基于 ChatterBot 的简单聊天机
           </td>
          </tr>
          <tr>
           <td>
            Emotext
           </td>
           <td>
            中文文本情感分析
           </td>
          </tr>
          <tr>
           <td>
            muvtuberdriver
           </td>
           <td>
            组装各模块，驱动整个流程
           </td>
          </tr>
         </tbody>
        </table>
        <p data-pid="nYNE782T">
         项目主页：
        </p>
        <a class="LinkCard new" data-draft-node="block" data-draft-type="link-card" data-text="https://github.com/cdfmlr/muvtuber" href="https://link.zhihu.com/?target=https%3A//github.com/cdfmlr/muvtuber" target="_blank">
         <span class="LinkCard-contents">
          <span class="LinkCard-title loading" data-text="true">
          </span>
          <span class="LinkCard-desc loading">
          </span>
         </span>
         <span class="LinkCard-image LinkCard-image--default">
         </span>
        </a>
        <h3>
         弹幕姬
        </h3>
        <blockquote data-pid="1emdUri2">
         技术栈：Node，Python。
        </blockquote>
        <p data-pid="17UX_e8B">
         为了和其他模
        </p>
        <p data-pid="LAkK2YVO">
         块对接，我们需要那种能通过比较底层的方式输出弹幕的工具。我们要给机器看的，而不是一个给人看的黑箱的图形界面。
        </p>
        <p data-pid="XQ7O07z4">
         好在也不必自己从头写。
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//github.com/xfgryujk/blivedm" rel="nofollow noreferrer" target="_blank">
          xfgryujk/blivedm
         </a>
         就是这样的一个工具。作者大大还顺别提供了显示给人看的界面
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//github.com/xfgryujk/blivechat" rel="nofollow noreferrer" target="_blank">
          blivechat
         </a>
         。
        </p>
        <p data-pid="3OwHso9U">
         这里我们直接使用封装好的
         <code>
          blivechat
         </code>
         。这个东西后端通过 WebSocket 把弹幕、礼物等消息发送给前端的界面。拉取、编译、运行 blivechat（
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//github.com/xfgryujk/blivechat" rel="nofollow noreferrer" target="_blank">
          blivechat
         </a>
         的 README 里有详细的安装、使用方法，此处从简。）：
        </p>
        <div class="highlight">
         <pre>```text
# clone repo
git clone --recursive https://github.com/xfgryujk/blivechat.git
cd blivechat

# 编译前端
cd frontend
npm install
npm run build
cd ..

# 运行服务
pip3 install -r requirements.txt
python3 main.py
```</pre>
        </div>
        <p data-pid="RKRffzcZ">
         虽然没有文档，但稍微抓包，就可以模仿出一个前端，通过 WebSocket 接口获取到弹幕：
        </p>
        <div class="highlight">
         <pre>```js
// 建立链接
let ws = new WebSocket('ws://localhost:12450/api/chat');

// 订阅直播间
ws.send(JSON.stringify({
    "cmd": 1,
    "data": { "roomId": 000 }
}));

// 接收弹幕消息
ws.onmessage = (e) =&gt; {
  console.log(JSON.parse(e.data))
};

// KeepAlive：每 10 秒发一次 heartbeat
setInterval(() =&gt; {
  ws.send(`{"cmd":0,"data":{}}`)
}, 1000 * 10);

```</pre>
        </div>
        <p data-pid="Kki5nzP3">
         除此之外，我们还可以使用它自带的图形界面（有没有一种可能，这才是这个项目的正确用法），这个弹幕框可以由 OBS 采集输出到直播间里：
        </p>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <figure data-size="normal">
         <noscript>
          ![](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/blog/v2-b392fad16c8581d01608acc38af04289_b.jpg)
         </noscript>
         ![](data:image/svg+xml;utf8,
         <svg height="1530" width="2266" xmlns="http://www.w3.org/2000/svg">
         </svg>
         )
        </figure>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <h3>
         优质聊天机器人：ChatGPT
        </h3>
        <blockquote data-pid="z7hJgJpf">
         技术栈：Python
        </blockquote>
        <p data-pid="V27V9-o7">
         这应该是最有意思的部分，却也是最难的。幸好，有 ChatGPT。
        </p>
        <p data-pid="GtNHbC0p">
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//github.com/acheong08/ChatGPT" rel="nofollow noreferrer" target="_blank">
          acheong08/ChatGPT
         </a>
         项目提供了一个很好的 ChatGPT 接口。
        </p>
        <p data-pid="RELL_vDH">
         安装：
        </p>
        <div class="highlight">
         <pre>```text
pip3 install revChatGPT
```</pre>
        </div>
        <p data-pid="geBCJMm7">
         使用：
        </p>
        <div class="highlight">
         <pre>```python
from revChatGPT.V1 import Chatbot

chatbot = Chatbot(config={
  "access_token": "浏览器访问https://chat.openai.com/api/auth/session获取"
})

prompt = "你好"
response = ""

for data in chatbot.ask(prompt):
    response = data["message"]

print(response)
```</pre>
        </div>
        <p data-pid="eqnMljTM">
         我们只要编写一条合适的 prompt，即可让 ChatGPT 化身“虚拟主播”，例如：
        </p>
        <div class="highlight">
         <pre>```text
请使用女性化的、口语化的、抒情的、感性的、可爱的、调皮的、幽默的、害羞的、态度傲娇的语言风格，扮演一个正在直播的 vtuber，之后我的输入均为用户评论，请用简短的一句话回答它们吧。
```</pre>
        </div>
        <p data-pid="xwCghBcq">
         大概是这种效果：
        </p>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <figure data-size="normal">
         <noscript>
          ![](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/blog/v2-fc3c065c4354e7113f7aedce242f8705_b.jpg)
         </noscript>
         ![](data:image/svg+xml;utf8,
         <svg height="1258" width="1630" xmlns="http://www.w3.org/2000/svg">
         </svg>
         )
        </figure>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <p data-pid="fOSfzgDo">
         我并不擅长写 prompt，上面这段也改编自网络（原版大概是让做猫娘的），如果你有更好的 prompt，欢迎与我分享。
        </p>
        <blockquote data-pid="YaP10HWc">
         注：prompt 笑话一则：
         <br/>
         嘿，知道吗？以后不需要程序员啦！只要描述出需求，ChatGPT 就能写出代码！
         <br/>
         ——太棒了，那么如何写出简洁清晰无歧义的需求描述呢？
         <br/>
         呃，未来或许会有那么一种语言......
         <br/>
         ——你说的可能是：计算机程序设计语言 :)
        </blockquote>
        <p data-pid="rF2S8Qna">
         我们把这个东西简单封装出一个 HTTP API，方便其他组件调用：
        </p>
        <div class="highlight">
         <pre>```text
$ curl -X POST localhost:9006/renew -d '{"access_token": "eyJhb***99A"}' -i
HTTP/1.1 200 OK
Content-Type: text/plain; charset=utf-8
Content-Length: 2

ok
$ curl -X POST localhost:9006/ask -d '{"prompt": "你好"}'
HTTP/1.1 200 OK
Content-Type: text/plain; charset=utf-8
Content-Length: 45

你好！有什么我可以帮助你的吗？
```</pre>
        </div>
        <h3>
         基本聊天机器人：ChatterBot
        </h3>
        <blockquote data-pid="5bsRqN9c">
         技术栈：Python
        </blockquote>
        <p data-pid="whUFwTv3">
         ChatGPT 很好用，输出质量非常高，但是：
        </p>
        <ul>
         <li data-pid="U1L5zmfv">
          这不是一个开源的组件，或者廉价的公共服务。不能保证始终可用，也不能确定用它直播是否符合规则。
         </li>
         <li data-pid="gMUT6PhI">
          OpenAI 有访问限制：请求太频繁会拒绝服务。在实践中 30 秒/次会触发，60 秒/次 才比较安全。
         </li>
        </ul>
        <p data-pid="9cE6r2st">
         总之，ChatGPT 硬用下去也不是个办法。我们可以实现一个丐版聊天机器人作为补充。在 ChatGPT 由于网络、限制等原因无法访问时，也提供一点点对话能力。
        </p>
        <p data-pid="Loxj1HWM">
         在很多年前，我曾用过一个开箱即用的傻瓜式聊天机器人库：
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//chatterbot.readthedocs.io/en/stable/" rel="nofollow noreferrer" target="_blank">
          ChatterBot
         </a>
         。训练、推理都非常简单，调用者无需任何机器学习知识：
        </p>
        <div class="highlight">
         <pre>```python
from chatterbot import ChatBot
from chatterbot.trainers import ListTrainer

chatbot = ChatBot('Charlie')

# 训练
trainer = ListTrainer(chatbot)
trainer.train([
    "Hi, can I help you?",
    "Sure, I'd like to book a flight to Iceland.",
    "Your flight has been booked."
])

# 推理：对话
response = chatbot.get_response('I would like to book a flight.')
print(response)
```</pre>
        </div>
        <p data-pid="uC7O-qAf">
         可以用列表传入对话进行训练。训练完后，调用
         <code>
          get_response
         </code>
         方法即可进行对话。同样简单封装成 HTTP API：
        </p>
        <div class="highlight">
         <pre>```text
curl 'http://localhost:9007/chatbot/get_response?chat=文本内容'
```</pre>
        </div>
        <p data-pid="uI9y8nzq">
         它的对话效果非常差。但有趣的是，这个库可以在线学习。在你和他对话的过程中，它会持续学习。在测试时，我给它接上 blivechat，随便进一个直播间，让它旁听，和弹幕虚空交流。经过一上午它已经学会了包括但不限于“妙啊”“有点东西”“对对对”等直播弹幕常（抽）用（象）表达，可以在恰当语境下输出作为回应。（这样让它黑听学习也有弊端，它会顺别学到许多“别的女人”，然后满嘴 Lulu、白菜、社长什么什么的 ）
        </p>
        <p data-pid="W9Ma8E0I">
         不能指望这个库做出 ChatGPT 那样的优质、有逻辑的回答。只把它作为兜底，让它快速跟着弹幕瞎附合嚷嚷还是不错的，别冷场就好。
        </p>
        <p data-pid="Ubep4i7t">
         我在直播实测中的对比：
        </p>
        <ul>
         <li data-pid="tN8LFTi_">
          ChatGPTChatbot：由 ChatGPT 生成的回答
         </li>
         <li data-pid="D4UYnBLu">
          MusharingChatbot：本节介绍的 Chatterbot 库（我最初在一个叫做 musharing 的项目中使用了这个库，故此命名）
         </li>
        </ul>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <figure data-size="normal">
         <noscript>
          ![](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/blog/v2-be69501c044254747582b51412400572_b.jpg)
         </noscript>
         ![](data:image/svg+xml;utf8,
         <svg height="646" width="2256" xmlns="http://www.w3.org/2000/svg">
         </svg>
         )
        </figure>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <hr/>
        <p data-pid="n47vK79T">
         注意：ChatterBot 库早已年久失修。但可以找到一些可以用的 fork，例如
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//github.com/RaSan147/ChatterBot_update" rel="nofollow noreferrer" target="_blank">
          RaSan147/ChatterBot_update
         </a>
         （from
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//github.com/gunthercox/ChatterBot/issues/2287%23issuecomment-1399571995" rel="nofollow noreferrer" target="_blank">
          issues #2287
         </a>
         ）：
        </p>
        <div class="highlight">
         <pre>```text
pip install https://github.com/RaSan147/ChatterBot_update/archive/refs/heads/master.zip  # 直接从 GitHub 而非 PyPI 仓库安装
python -m spacy download en_core_web_sm  # 一个执行不到的依赖，但是不装跑不起来。
```</pre>
        </div>
        <h3>
         语音合成
        </h3>
        <blockquote data-pid="zwway8AU">
         技术栈：macOS，Go
        </blockquote>
        <p data-pid="19D55TFz">
         用 Chatbot 生成了回应观众的文本，（暂时忽略过滤），接下来就要送到 TTS 语音合成模块，让机器把话说出来。
        </p>
        <p data-pid="0ZGDGUFH">
         这个要效果好似乎必须上深度学习，
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//github.com/PaddlePaddle/PaddleSpeech" rel="nofollow noreferrer" target="_blank">
          PaddleSpeech
         </a>
         似乎是一个不错的选择，不过 i5-8700U + 核显大概跑不动就是了。
        </p>
        <p data-pid="Qdn3MT4z">
         可以考虑用一点云服务：
        </p>
        <ul>
         <li data-pid="Ce6CXx-z">
          <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//speech.microsoft.com/" rel="nofollow noreferrer" target="_blank">
           Microsoft Speech Studio
          </a>
          ：要注意网络问题
         </li>
         <li data-pid="dARas6K6">
          <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//ai.baidu.com/tech/speech/tts_online" rel="nofollow noreferrer" target="_blank">
           百度 AI 开方平台 - 短文本在线合成
          </a>
          ：要注意钱包问题
         </li>
        </ul>
        <p data-pid="Y42jCcK_">
         选择心仪的服务照着文档写就好了，非常容易。但这还是有点麻烦了，如果你使用 macOS，事情还可以更简单：
        </p>
        <blockquote data-pid="bUpKHU3Q">
         SAY(1) 命令使用 macOS 的 Speech Synthesis Manager 将输入文本转换为可听语音，并通过在“系统偏好设置”中选择的声音输出设备播放它，或将其存储到 AIFF 文件中。 你可以通过
         <code>
          man say
         </code>
         查看这个命令的详细用法。
        </blockquote>
        <p data-pid="rTGDR_H3">
         打开扬声器或者耳机，调节音量；打开终端，键入命令：
        </p>
        <div class="highlight">
         <pre>```text
say '你好，这是系统自带的 TTS 语音合成。'
```</pre>
        </div>
        <p data-pid="JTrz1e_Z">
         不出意外，你会听到 Siri 或者婷婷声情并茂地大声朗读。
        </p>
        <p data-pid="wT_FBpTI">
         如果你对听到的声音不胜满意，（例如系统默认配置的似乎是低配婷婷，只能听个响），可以到「系统设置 &gt; 辅助功能 &gt; 朗读内容 &gt; 系统声音」按照个人喜好修改（个人觉得简体中文系女声，讲的最好的就是「Siri 2」）。
        </p>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <figure data-size="normal">
         <noscript>
          ![](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/blog/v2-f96c654a2b355fa949abca4cf8e90e4b_b.jpg)
         </noscript>
         ![](data:image/svg+xml;utf8,
         <svg height="1206" width="1654" xmlns="http://www.w3.org/2000/svg">
         </svg>
         )
        </figure>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <p data-pid="lHEzSBwX">
         容易在任何主流语言中调用这个工具，例如我们之后会在 Go 语言中调用它：
        </p>
        <div class="highlight">
         <pre>```go
package main

import "os/exec"

type Sayer interface {
    Say(text string) error
}

// sayer is a caller to the SAY(1) command on macOS.
type sayer struct {
    voice       string // voice to be used
    rate        string // words per minute
    audioDevice string // audio device to be used to play the audio
}

func (s *sayer) Say(text string) error {
    // say -v voice -r rate -a audioDevice text
    return exec.Command("say",
        "-v", s.voice, "-r", s.rate, "-a", s.audioDevice,
        text,
    ).Run()
}

```</pre>
        </div>
        <h3>
         文本情感分析
        </h3>
        <blockquote data-pid="eqCNbB6S">
         技术栈：Python
        </blockquote>
        <p data-pid="RYEITu9Y">
         在
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//github.com/cdfmlr/murecom-verse-1" rel="nofollow noreferrer" target="_blank">
          murecom
         </a>
         项目中，我们实现了一个名为 Emotext 的中文文本情感分析模块。它的作用就是输入文本，输出其中蕴含的情感（
         <code>
          Emotext = func (text) -&gt; emotions
         </code>
         ）：
        </p>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <figure data-size="normal">
         <noscript>
          ![](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/blog/v2-076579d23d8cf441d5c2603de254252c_b.jpg)
         </noscript>
         ![](data:image/svg+xml;utf8,
         <svg height="2788" width="6488" xmlns="http://www.w3.org/2000/svg">
         </svg>
         )
        </figure>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <p data-pid="_r0XPNBm">
         关于这个东西的原理即实现详见
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//juejin.cn/post/7070819253309407268" rel="nofollow noreferrer" target="_blank">
          让 AI 看懂你的心情，并推荐应景的音乐，以一种简单的实现
         </a>
         一文（说人话的介绍）。下面仅给出核心算法（不说人话的介绍）（某蒟蒻的毕业论文，我先喷：学术辣鸡）：
        </p>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <figure data-size="normal">
         <noscript>
          ![](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/blog/v2-c7dbb3bab5384ebbc9e18421861de014_b.jpg)
         </noscript>
         ![](data:image/svg+xml;utf8,
         <svg height="1380" width="1716" xmlns="http://www.w3.org/2000/svg">
         </svg>
         )
        </figure>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <p data-pid="iFp72zHG">
         其中词典 $E$ 使用大连理工情感本体库 [^33]。大连理工情感本体库是较为成熟的一套中文情感词典方案，提供了对数万中文词汇的情感分类及强度分析，在中文文本情感分析领域被广泛使用。该库的情感划分方案 与 表 3-1 保持一致。该库的情感强度表示为 1 ∼ 9 的数值，数值越大，认为对应情感越强烈。
        </p>
        <p data-pid="DKeIW4Jh">
         定义整段输入文本的总情感为所有关键词情感强度的 tfidf 加权总和：
        </p>
        <p data-pid="f2dPW-kh">
         <span class="ztext-math" data-eeimg="1" data-tex=" e(d) = \sum_{t \in keywords} tfidf(t,d,D)\cdot I_t ">
          e(d) = \sum_{t \in keywords} tfidf(t,d,D)\cdot I_t
         </span>
        </p>
        <p data-pid="P1wtk1Uh">
         在有必要的情况下，还可以对 $e(d)$ 进行 softmax 计算，得到文本在各情感类别上的概率分布。
        </p>
        <p data-pid="A4Z2whBu">
         [^33]: 徐琳宏 , 林鸿飞 , 潘宇 , et al. 情感词汇本体的构造 [J]. 情报学报, 2008, 27(2) : 6.
        </p>
        <p data-pid="JDzLFK46">
         总之，这东西就是一个很简单的算法，抛开效果不谈（该算法仅作为非深度学习的 baseline），人人都能写、人人都能理解。
        </p>
        <p data-pid="yjxBkvFb">
         此处复用当时的代码，只做简单的 API 重新封装，开放如下 HTTP 接口：
        </p>
        <div class="highlight">
         <pre>```text
$ curl -X POST localhost:9008/ --data '高兴'
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 149

{"emotions": ..., "polarity": ...}
```</pre>
        </div>
        <p data-pid="pZdM51XE">
         实现的工作示意图和核心类图如下：
        </p>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <figure data-size="normal">
         <noscript>
          ![](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/blog/v2-da5d5b93838330fd2b1583c021de4ddf_b.jpg)
         </noscript>
         ![](data:image/svg+xml;utf8,
         <svg height="590" width="1728" xmlns="http://www.w3.org/2000/svg">
         </svg>
         )
        </figure>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <h3>
         Live2D View
        </h3>
        <blockquote data-pid="rVITrrEk">
         技术栈：TypeScriptVue.js，Quasar，Pinia，WebSocket
        </blockquote>
        <p data-pid="l2d9hVv8">
         我从未设想过，所有组件中最麻烦的居然是 Live2D 这个看似除编外人员 OBS 之外最成熟的东西。
        </p>
        <p data-pid="YWkUK5d-">
         因为我们的需求有一点刁钻。正常的 Live2D 使用方式是：
        </p>
        <ol>
         <li data-pid="tDyoJECw">
          把模型作为皮套，通过面/动捕进行驱动。但我们是机器作为中之人，机器没头没脸、没法自己动。所以一些封装的很好的、大家都在用的直播皮套 app 不能用。
         </li>
         <li data-pid="d9VvrcJU">
          网站上的看板娘，把 Live2D 模型加载到网页上，并全自动地吸引你的目光（而她的目光却被你的鼠标吸引 ），同时响应你对她的点（抚）击（摸）等动作。这个东西为了对使用者友好，一般封装地非常严实，基本不暴露什么接口，所有我们也不能直接拿来用。
         </li>
        </ol>
        <p data-pid="VdzObnoG">
         我们要找那种暴露了底层一点的接口，能通过程序调用控制的方案。事实上，我发现常用的
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//store.steampowered.com/app/616720/Live2DViewerEX/" rel="nofollow noreferrer" target="_blank">
          Live2DViewerEX
         </a>
         就提供了非常好的
         <a class="wrap external" href="https://link.zhihu.com/?target=http%3A//live2d.pavostudio.com/doc/zh-cn/exapi/" rel="nofollow noreferrer" target="_blank">
          ExAPI
         </a>
         功能。但考虑到它的接口还是不够丰富，并且该 app 也不是开源实现，所以，我决定自己写。~~（绝对不是心疼那 \$4.99，只是恰好缺那 \$4.99罢了）~~
        </p>
        <p data-pid="UIvQeGzA">
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//www.live2d.com/en/" rel="nofollow noreferrer" target="_blank">
          Live2D 官方
         </a>
         提供有各种
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//www.live2d.com/en/download/cubism-sdk/" rel="nofollow noreferrer" target="_blank">
          SDK
         </a>
         。例如 Web、Unity 等等。出于能耗考虑，决定使用 Web 平台。但是打开文档，不太能看懂，搞了好久 Demo 都没跑起来。好在我找到了一个对官方 SDK 的封装：
        </p>
        <ul>
         <li data-pid="wbHZSz03">
          <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//github.com/guansss/pixi-live2d-display" rel="nofollow noreferrer" target="_blank">
           guansss/pixi-live2d-display
          </a>
          : A PixiJS plugin to display Live2D models of any kind.
         </li>
        </ul>
        <p data-pid="Lgu5bqyq">
         这个库提供了简单清晰的接口，可以导入、显示模型，并控制表情、动作。
        </p>
        <div class="highlight">
         <pre>```js
import * as PIXI from 'pixi.js';
import { Live2DModel } from 'pixi-live2d-display';
window.PIXI = PIXI;

// 模型文件
const cubism2Model =
  "https://cdn.jsdelivr.net/gh/guansss/pixi-live2d-display/test/assets/shizuku/shizuku.model.json";

// 初始化 view
const app = new PIXI.Application({
    view: document.getElementById('canvas'),
});

// 读取模型
const model = await Live2DModel.from(cubism2Model);

// 显示模型
app.stage.addChild(model);

// 设置动作、表情
model.motion('tap_body');
model.expression('smile');

```</pre>
        </div>
        <p data-pid="5JVHLO25">
         用 Vue 把上面的 Demo 封装成为 component，名曰
         <code>
          Live2DView
         </code>
         。辅以一个
         <code>
          Live2DStore
         </code>
         ，用于控制 View 中 Live2D 的动作和表情。一个通用的、可复用的 Live2D 组件就完成了：
        </p>
        <div class="highlight">
         <pre>```text
<template>
<live2dview></live2dview>
</template>
<script lang="ts" setup="">
import Live2DView from './Live2DView.vue';

import { useLive2DStore } from 'stores/live2D-store';
const live2DStore = useLive2DStore();

// 通过 store 控制 view 中的 Live2D 皮套
live2DStore.setMotion({ group: 'tap_body' })
live2DStore.setExpression('smile')
</script>
```</pre>
        </div>
        <p data-pid="0q6f4I2T">
         运行一下（背后的调试功能只是简单地暴露 store 的 actions，文中不作介绍）：
        </p>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <figure data-size="normal">
         <noscript>
          ![](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/blog/v2-897f808b0bd9a8390cc9d35822331633_b.jpg)
         </noscript>
         ![](data:image/svg+xml;utf8,
         <svg height="1530" width="2266" xmlns="http://www.w3.org/2000/svg">
         </svg>
         )
        </figure>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <p data-pid="jILrEUg-">
         再写一个
         <code>
          WsStore
         </code>
         ，用来接收来自 WebSocket 的命令，进而调用
         <code>
          Live2DStore
         </code>
         ，完成响应的动作、表情控制：
        </p>
        <div class="highlight">
         <pre>```ts
import { defineStore } from 'pinia';
import { computed, ref } from 'vue';
import { useLive2DStore } from './live2D-store';

export const DEFAULT_WS_ADDR = 'ws://localhost:9001/live2d';

const live2DStore = useLive2DStore();

export const useWsStore = defineStore('ws', () =&gt; {
  const ws = ref<websocket>();

  function dialWebSocket(address: string = DEFAULT_WS_ADDR) {
    ws.value = new WebSocket(address);

    ws.value.onmessage = (event: MessageEvent) =&gt; {
      let data = JSON.parse(event.data);

      if (data.model) {  // 更换模型
        live2DStore.setModel(data.model);
      }
      if (data.motion) {  // 设置动作
        live2DStore.setMotion(data.motion);
      }
      if (data.expression) {  // 设置表情
        live2DStore.setExpression(data.expression);
      }
    };
  }

  return { dialWebSocket, };
});

```</websocket></pre>
        </div>
        <p data-pid="dZzjmP-5">
         这样，我们就可以通过 WebSocket，发送 JSON 命令，从其他程序来控制她了：
        </p>
        <div class="highlight">
         <pre>```json
{
    "model": "https://path/to/model.json",
    "motion": "tap_body",
    "expression": "smile"
}
```</pre>
        </div>
        <p data-pid="BOrFVkln">
         这个用来控制她的程序是 live2ddriver——
        </p>
        <h3>
         Live2D Driver
        </h3>
        <blockquote data-pid="VgGtBHJM">
         技术栈：Go，HTTP，WebSocket
        </blockquote>
        <p data-pid="x_hgKPc6">
         <code>
          live2ddriver
         </code>
         要做的是：接收来自 Chatbot 输出的文本；调用 Emotext 进行情感分析；并根据得到的“心情”，驱动 Live2D View，使做出对应的表情、动作。
        </p>
        <ul>
         <li data-pid="daDhkBGW">
          输入：文本，Vtuber 要说的话。
         </li>
         <ul>
          <li data-pid="DGVpVAdE">
           接收自 HTTP 请求。
          </li>
         </ul>
        </ul>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <ul>
         <li data-pid="5jB_Mn56">
          输出：JOSN，符合输入文本情感的表情、动作。
         </li>
         <ul>
          <li data-pid="9CqzxG61">
           发送到 WebSocket。
          </li>
         </ul>
        </ul>
        <p data-pid="tuD_mxM6">
         这个程序非常简单，不过多介绍，只给出关键代码（已去掉烦人的日志打印、错误处理和并发安全）。
        </p>
        <p data-pid="8jSvlrQt">
         访问 Emotext：进行文本情感分析：
        </p>
        <div class="highlight">
         <pre>```go
var EmotextServer = "http://localhost:9008/"
var client = &amp;http.Client{}

func Query(text string) (EmotionResult, error) {
    body := strings.NewReader(text)

    resp, _ := client.Post(EmotextServer, "text/plain", body)
    defer resp.Body.Close()

    var result EmotionResult
    json.NewDecoder(resp.Body).Decode(&amp;result)

    return result, nil
}

```</pre>
        </div>
        <p data-pid="ZJUH4Aed">
         驱动 Live2D 模型：文本 -&gt; 驱动指令：
        </p>
        <div class="highlight">
         <pre>```go
type Live2DDriver interface {
    Drive(textIn string) Live2DRequest
}

// DriveLive2DHTTP get text from request body.
// A Live2DRequest will be generated by the driver and sent to chOut
func DriveLive2DHTTP(driver Live2DDriver, addr string) (chOut chan []byte) {
    chOut = make(chan []byte, BufferSize)
    go func() {
        router := gin.Default()
        router.POST("/driver", func(c *gin.Context) {
            body := c.Request.Body
            defer body.Close()

            text, _ := ioutil.ReadAll(body)
            // 调用 driver 计算该做何中动作
            res := driver.Drive(string(text))
            j, _ := json.Marshal(res)
            chOut &lt;- j
        })
        router.Run(addr)
    }()
    return chOut
}

```</pre>
        </div>
        <p data-pid="46RMeVKg">
         我们需要针对每个模型写对应的 Driver 具体实现（情感的转移实际上使用了一个一阶马尔可夫过程，这里简化了）：
        </p>
        <div class="highlight">
         <pre>```go
type shizukuDriver struct {
    currentExpression shizukuExpression
    currentMotion     shizukuMotion

    emotions emotext.Emotions // emotion =&gt; motion
    polarity emotext.Polarity // polarity =&gt; expression
}

func (d *shizukuDriver) Drive(textIn string) Live2DRequest {
    // 请求 Emotext
    emoResult, err := emotext.Query(text)
    d.emotions, d.polarity = emoResult.Emotions, emoResult.Polarity

    // 找得分最大的情感
    maxEmotion, maxPolarity := keyOfMaxValue(d.emotion), keyOfMaxValue(d.polarity)

    // 构造驱动命令
    var req Live2DRequest
    if d.currentExpression != maxPolarity {
        d.currentExpression = maxPolarity
        req.Expression = d.currentExpression
    }
    if d.currentMotion != maxEmotion {
        d.currentMotion = maxEmotion
        req.Motion = d.currentMotion
    }
    return req
}

```</pre>
        </div>
        <p data-pid="LX4t5OnD">
         WebSocket 消息转发器：把消息通过 WebSocket 发给前端，就是简单的开几个 goruntine 用 chan 来传数据：
        </p>
        <div class="highlight">
         <pre>```go
// messageForwarder forwards messages to connected clients, that are, Live2DViews.
type messageForwarder struct {
    msgChans []chan []byte
}

func (f *messageForwarder) ForwardMessageTo(ws *websocket.Conn) {
    ch := make(chan []byte, BufferSize)
    // add
    f.msgChans = append(f.msgChans, ch)
    // forward
    for msg := range ch {
        ws.Write(msg)
    }
}

func (f *messageForwarder) ForwardMessageFrom(msgCh &lt;-chan []byte) {
    for msg := range msgCh {
        // send
        for _, ch := range f.msgChans {
            ch &lt;- msg
        }
    }
}

```</pre>
        </div>
        <p data-pid="K2ZezBSo">
         main：
        </p>
        <div class="highlight">
         <pre>```go
// WebSocket 转发器：把东西发到 WebSocket 中
forwarder := wsforwarder.NewMessageForwarder()

// 监听 :9004，获取来自 Chatbot 的 text
// 分析情感，生成驱动指令，发给 WebSocket 转发器。
go func() {
    driver := live2ddriver.NewShizukuDriver()
    dh := live2ddriver.DriveLive2DHTTP(driver, ":9004")
    forwarder.ForwardMessageFrom(dh)
}()

// WebSocket 服务：转发 Live2D 驱动指令到前端
http.Handle("/live2d", websocket.Handler(func(c *websocket.Conn) {
    forwarder.ForwardMessageTo(c)
}))
http.ListenAndServe(":9001", nil)

```</pre>
        </div>
        <h3>
         组件小结
        </h3>
        <table data-draft-node="block" data-draft-type="table" data-row-style="normal" data-size="normal">
         <tbody>
          <tr>
           <th>
            端口
           </th>
           <th>
            服务
           </th>
           <th>
            说明
           </th>
          </tr>
          <tr>
           <td>
            12450
           </td>
           <td>
            Blivechat
           </td>
           <td>
            获取直播间弹幕消息
           </td>
          </tr>
          <tr>
           <td>
            9000
           </td>
           <td>
            Live2dView
           </td>
           <td>
            前端：显示 Live2D 模型
           </td>
          </tr>
          <tr>
           <td>
            9001
           </td>
           <td>
            Live2dDriver::ws
           </td>
           <td>
            发动作表情给前端的 WebSocket 服务
           </td>
          </tr>
          <tr>
           <td>
            9004
           </td>
           <td>
            Live2dDriver::driver
           </td>
           <td>
            发文本给 live2ddriver 以驱动模型动作表情
           </td>
          </tr>
          <tr>
           <td>
            9006
           </td>
           <td>
            ChatGPTChatbot
           </td>
           <td>
            优质聊天机器人
           </td>
          </tr>
          <tr>
           <td>
            9007
           </td>
           <td>
            MusharingChatbot
           </td>
           <td>
            基于 ChatterBot 的简单聊天机
           </td>
          </tr>
          <tr>
           <td>
            9008
           </td>
           <td>
            Emotext
           </td>
           <td>
            中文文本情感分析
           </td>
          </tr>
          <tr>
           <td>
            -
           </td>
           <td>
            Say
           </td>
           <td>
            文本语音合成：系统自带命令
           </td>
          </tr>
         </tbody>
        </table>
        <h3>
         总装，开播！
        </h3>
        <blockquote data-pid="vzJQIBEM">
         技术栈：Go
        </blockquote>
        <p data-pid="F7CwvsFB">
         好了，把前面实现的具体组件放到最开始的设计图中：
        </p>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <figure data-size="normal">
         <noscript>
          ![](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/blog/v2-fefa671cb2745731e43b694e6ff8e8be_b.jpg)
         </noscript>
         ![](data:image/svg+xml;utf8,
         <svg height="1839" width="3483" xmlns="http://www.w3.org/2000/svg">
         </svg>
         )
        </figure>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <p data-pid="CgEW2T1Y">
         我们通过 blivechat，从 B 站的直播间获取弹幕消息；传递给 ChatGPT 或者备用的 ChatterBot 获取对话的回应；然后一方面把回应文本朗读出来，另一方面把回应文本传给 Live2DDriver，用 Emotext 进行情感分析，然后视话中情感，向 Live2DView 发出 WebSocket 命令；前端的 Live2DView 接收到命令后，更新页面显示的模型动作表情。最后把弹幕框、Live2D以及 Sayer 朗读出的音频通过 OBS 采集，放到一个画面里，向 B 站直播间推流。这样一个简单的 AI 直播流程就实现了！同时为了保证直播质量，我们可能还需要过滤掉一些意义不明的弹幕，以及过于大胆的发言，这可以通过额外的 Filter 组件实现（本文不作介绍）。
        </p>
        <p data-pid="N3T0dVCd">
         最后的任务：把上面这段话，或者或上面那张图翻译成实际的代码。我们借助 Go 语言完成这个工作。
        </p>
        <p data-pid="U1k2u-n4">
         第一步，就是对上一节介绍的各个服务分别编写出客户端，这个非常容易，就是一些参数编码、http 请求、解析响应、错误处理这样繁琐但简单的调 API 的标准工作，大（GitHub）家（Copilot）都可以轻松完成。
        </p>
        <p data-pid="IpBtXlfi">
         第二步，也是最后一步，一个 main 函数，串起其所有组件，也就是完成设计图中的那些连线：
        </p>
        <div class="highlight">
         <pre>```go
func main() {    
    textInChan := make(chan *TextIn, BufSize)
    textOutChan := make(chan *TextOut, BufSize)

    // (blivedm) -&gt; in
    go TextInFromDm(*roomid, textInChan)

    // in -&gt; filter (目前没有) -&gt; in
    textInFiltered := textInChan

    // in -&gt; chatbot -&gt; out
    chatbot := NewPrioritizedChatbot(map[Priority]Chatbot{
        PriorityLow:  NewMusharingChatbot(),
        PriorityHigh: NewChatGPTChatbot(),
    })
    go TextOutFromChatbot(chatbot, textInFiltered, textOutChan)

    // out -&gt; filter (目前没有) -&gt; out
    textOutFiltered := textOutChan

    // out -&gt; (live2d) &amp; (say) &amp; (stdout)
    live2d := NewLive2DDriver()
    sayer := NewSayer()
    for textOut := range textOutFiltered {
        live2d.TextOutToLive2DDriver(textOut)
        sayer.Say(textOut.Content)
        fmt.Println(textOut)
    }
}

```</pre>
        </div>
        <p data-pid="OBRkGjOc">
         归功于 Go 语言的 goruntine 和 chan，一切都非常直观。
        </p>
        <p data-pid="il1P0gBM">
         最后一步，启动程序，打开 OBS，把输出的音视频采集进去：
        </p>
        <ul>
         <li data-pid="DZr36HZj">
          弹幕框：
          <code>
           localhost:12450/...
          </code>
         </li>
         <li data-pid="J9XM4GMr">
          Live2DView：
          <code>
           localhost:9000
          </code>
         </li>
         <li data-pid="qFnC9HFI">
          音频（say）的输出：你使用的音频设备
         </li>
        </ul>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <figure data-size="normal">
         <noscript>
          ![](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/blog/v2-211acaccc7379daf84929e94fe506a78_b.jpg)
         </noscript>
         ![](data:image/svg+xml;utf8,
         <svg height="1884" width="3104" xmlns="http://www.w3.org/2000/svg">
         </svg>
         )
        </figure>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <p data-pid="ghRx1XMj">
         在 B 站开始直播，OBS 推流，完成！
        </p>
        <p data-pid="DUbUWvIl">
         （详细的 OBS 使用方法以及如何在 B 站开启直播，大家可以在 B 站搜索相关视频学习，此处不作介绍。）
        </p>
        <p data-pid="MRimUDjo">
         想看看她直播的效果？这个项目不是什么复杂的深度学习大模型，不需要任何特殊的硬/软件，一般配置的 Mac + Git + Python + Poetry + Node + Pnpm + Go + OBS 即可搭起全套环境，轻松复现。（我也会尽快实现容器化，届时便可直接一键运行。）
        </p>
        <h3>
         总结
        </h3>
        <p data-pid="SVBbTMsy">
         大家可能很失望，本文没有去训练某种奇幻的深度学习模型，从而实现一切。~~这只是因为我不会。~~
        </p>
        <p data-pid="9AxX0KY7">
         我始终认为，计算机程序就应该是这样的。"Keep it simple, stupid!"。麻瓜模块的快速组合，而不是端到端的数学大魔法。强类型数据流、活动和状态，而不是高维浮点张量乘。。。又扯远了。
        </p>
        <p data-pid="wBlSwekL">
         是这样的，我希望分享的是一个“从想法到 app”的过程。我如何想到一个点子，又如何把它变成可以程序化的需求，或者说把它变成可行的计算：
         <code>
          我要的 = f(现有的)
         </code>
         ，明确输入（弹幕）、输出（直播）和限制（我的机器跑的动）。然后，我又如何设计这个
         <code>
          f
         </code>
         ，把它拆分成一个个相对独立的小模块，每个模块完成一件事情，用最简单的代码去实现他们。最后我又如何把这些模块拼在一起，让他们协同工作，实现一个有趣的大程序（AI 虚拟主播）。
        </p>
        <p data-pid="HElcnMM4">
         总之，这个项目实现了一个灵活的框架，你可以任意替换其中的组件，从而不断提升这个 AI 主播的业务能力。请容我再次放出整体的设计图，并在下面添加一些我觉得有意思的 TODO：
        </p>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <figure data-size="normal">
         <noscript>
          ![](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/blog/v2-b538932628275abad1aab6754aadcddb_b.jpg)
         </noscript>
         ![](data:image/svg+xml;utf8,
         <svg height="2427" width="3480" xmlns="http://www.w3.org/2000/svg">
         </svg>
         )
        </figure>
        <p class="ztext-empty-paragraph">
         <br/>
        </p>
        <p data-pid="dcRTvleC">
         满打满算我只用了一周时间设（摸）计（鱼）、一周时间编码来实现了这个项目。所以她是非常粗糙的。换句话说，她有非常大的改进空间。例如我现在已经开始将其中的部分手写的 HTTP 通信迁移到 gRPC，用更少的代码，带来更强的性能、更完善的错误处理。
        </p>
        <p data-pid="y3UpYLBx">
         我把这个项目当作自己的“学期（课外）学习计划”来不断优化：希望在功能上实现上图的各种 todo 的同时，也在实现上不断重构，从现在的幼稚模式，逐步用上 RPC、容器编排、函数计算、devOps 等等现代云原生的方式。
        </p>
        <p data-pid="ZSd_p45M">
         最终这个项目或许会变得非常棒。如果有所进展，我会在下一篇文章“muvtuber：进化！从散装微服务到云原生”中介绍，请大家监督。
        </p>
        <blockquote data-pid="-cKjIaVe">
         我不是一个老练的程序员，我写不出好的设计模式、刷不懂 Leetcode，我只有不断冒出的想法，和越来越长的 todo list。我的备忘录里躺满了 app 等待实现，但说到的总是做不到，美妙的想法都等到了发霉。可也只能一行一行慢慢写，just for fun。我用十年写了满屏烂代码，就算越来越迷茫，也就只好这样继续吧……
        </blockquote>
        <hr/>
        <p data-pid="Q2ROieQn">
         最后再次给出全部源码链接，望读者垂阅斧正：
        </p>
        <table data-draft-node="block" data-draft-type="table" data-row-style="normal" data-size="normal">
         <tbody>
          <tr>
           <th>
            服务
           </th>
           <th>
            说明
           </th>
           <th>
            基于
           </th>
          </tr>
          <tr>
           <td>
            xfgryujk/blivechat
           </td>
           <td>
            获取直播间弹幕消息
           </td>
           <td>
            -
           </td>
          </tr>
          <tr>
           <td>
            Live2dView
           </td>
           <td>
            前端：显示 Live2D 模型
           </td>
           <td>
            guansss/pixi-live2d-display
           </td>
          </tr>
          <tr>
           <td>
            Live2dDriver
           </td>
           <td>
            驱动前端 Live2D 模型动作表情
           </td>
           <td>
            -
           </td>
          </tr>
          <tr>
           <td>
            ChatGPTChatbot
           </td>
           <td>
            基于 ChatGPT 的优质聊天机器人
           </td>
           <td>
            acheong08/ChatGPT
           </td>
          </tr>
          <tr>
           <td>
            MusharingChatbot
           </td>
           <td>
            基于 ChatterBot 的简单聊天机
           </td>
           <td>
            RaSan147/ChatterBot_update
            <br/>
            musharing-team/chatbot_api
           </td>
          </tr>
          <tr>
           <td>
            Emotext
           </td>
           <td>
            中文文本情感分析
           </td>
           <td>
            cdfmlr/murecom-verse-1
           </td>
          </tr>
          <tr>
           <td>
            muvtuberdriver
           </td>
           <td>
            组装各模块，驱动整个流程
           </td>
           <td>
            -
           </td>
          </tr>
         </tbody>
        </table>
        <p data-pid="t7ylUWqW">
         Again，知乎似乎吞了表格内链接，可以从下面这个仓库导航到所有子 repo：
        </p>
        <a class="LinkCard new" data-draft-node="block" data-draft-type="link-card" data-text="https://github.com/cdfmlr/muvtuber" href="https://link.zhihu.com/?target=https%3A//github.com/cdfmlr/muvtuber" target="_blank">
         <span class="LinkCard-contents">
          <span class="LinkCard-title loading" data-text="true">
          </span>
          <span class="LinkCard-desc loading">
          </span>
         </span>
         <span class="LinkCard-image LinkCard-image--default">
         </span>
        </a>
        <p data-pid="12eOYLNI">
         参考资料：
        </p>
        <ul>
         <li data-pid="d-QdfviF">
          Cubism: Live2D Cubism SDK チュートリアル.
          <a class="external" href="https://link.zhihu.com/?target=https%3A//docs.live2d.com/cubism-sdk-tutorials/" rel="nofollow noreferrer" target="_blank">
           <span class="invisible">
            https://
           </span>
           <span class="visible">
            docs.live2d.com/cubism-
           </span>
           <span class="invisible">
            sdk-tutorials/
           </span>
           <span class="ellipsis">
           </span>
          </a>
         </li>
         <li data-pid="-ja1gDVg">
          Gunther Cox: ChatterBot Docs.
          <a class="external" href="https://link.zhihu.com/?target=https%3A//chatterbot.readthedocs.io/en/stable/" rel="nofollow noreferrer" target="_blank">
           <span class="invisible">
            https://
           </span>
           <span class="visible">
            chatterbot.readthedocs.io
           </span>
           <span class="invisible">
            /en/stable/
           </span>
           <span class="ellipsis">
           </span>
          </a>
         </li>
         <li data-pid="AkYkzbED">
          Pavo Studio: Live2DViewerEX 文档.
          <a class="external" href="https://link.zhihu.com/?target=http%3A//live2d.pavostudio.com/doc/zh-cn/about/" rel="nofollow noreferrer" target="_blank">
           <span class="invisible">
            http://
           </span>
           <span class="visible">
            live2d.pavostudio.com/d
           </span>
           <span class="invisible">
            oc/zh-cn/about/
           </span>
           <span class="ellipsis">
           </span>
          </a>
         </li>
         <li data-pid="LS_MGlar">
          CDFMLR: 让 AI 看懂你的心情，并推荐应景的音乐，以一种简单的实现.
          <a class="external" href="https://link.zhihu.com/?target=https%3A//juejin.cn/post/7070819253309407268" rel="nofollow noreferrer" target="_blank">
           <span class="invisible">
            https://
           </span>
           <span class="visible">
            juejin.cn/post/70708192
           </span>
           <span class="invisible">
            53309407268
           </span>
           <span class="ellipsis">
           </span>
          </a>
         </li>
         <li data-pid="9q_NMMBx">
          guansss: pixi-live2d-display docs.
          <a class="external" href="https://link.zhihu.com/?target=https%3A//guansss.github.io/pixi-live2d-display/" rel="nofollow noreferrer" target="_blank">
           <span class="invisible">
            https://
           </span>
           <span class="visible">
            guansss.github.io/pixi-
           </span>
           <span class="invisible">
            live2d-display/
           </span>
           <span class="ellipsis">
           </span>
          </a>
         </li>
         <li data-pid="ETJ4SDq6">
          MDN: The WebSocket API (WebSockets).
          <a class="external" href="https://link.zhihu.com/?target=https%3A//developer.mozilla.org/en-US/docs/Web/API/WebSockets_API" rel="nofollow noreferrer" target="_blank">
           <span class="invisible">
            https://
           </span>
           <span class="visible">
            developer.mozilla.org/e
           </span>
           <span class="invisible">
            n-US/docs/Web/API/WebSockets_API
           </span>
           <span class="ellipsis">
           </span>
          </a>
         </li>
         <li data-pid="0czCpX-G">
          OBS: Open Broadcaster Software.
          <a class="external" href="https://link.zhihu.com/?target=https%3A//obsproject.com" rel="nofollow noreferrer" target="_blank">
           <span class="invisible">
            https://
           </span>
           <span class="visible">
            obsproject.com
           </span>
           <span class="invisible">
           </span>
          </a>
         </li>
         <li data-pid="JCkT8Ic0">
          大连理工大学 - 信息检索研究室: 情感词汇本体-词典.
          <a class="external" href="https://link.zhihu.com/?target=https%3A//ir.dlut.edu.cn/info/1013/1142.htm" rel="nofollow noreferrer" target="_blank">
           <span class="invisible">
            https://
           </span>
           <span class="visible">
            ir.dlut.edu.cn/info/101
           </span>
           <span class="invisible">
            3/1142.htm
           </span>
           <span class="ellipsis">
           </span>
          </a>
         </li>
         <li data-pid="ay8JMRPo">
          Bilibili 帮助中心: 成为主播.
          <a class="external" href="https://link.zhihu.com/?target=https%3A//link.bilibili.com/p/help/index%23/open-live" rel="nofollow noreferrer" target="_blank">
           <span class="invisible">
            https://
           </span>
           <span class="visible">
            link.bilibili.com/p/hel
           </span>
           <span class="invisible">
            p/index#/open-live
           </span>
           <span class="ellipsis">
           </span>
          </a>
         </li>
        </ul>
        <p data-pid="SkfbD-Cg">
         本项目、文章能够完成，还要特别感谢
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//github.com/features/copilot" rel="nofollow noreferrer" target="_blank">
          GitHub Copilot
         </a>
         和
         <a class="wrap external" href="https://link.zhihu.com/?target=https%3A//openai.com/blog/chatgpt/" rel="nofollow noreferrer" target="_blank">
          ChatGPT
         </a>
         的帮助。
        </p>
       </div>
      </div>
     </div>
    </div>
    <div class="ContentItem-time" role="button" tabindex="0">
     编辑于 2023-03-01 12:15
     <!-- -->
     ・IP 属地北京
    </div>
    <div class="Post-topicsAndReviewer">
     <div class="TopicList Post-Topics">
      <style data-emotion-css="ch8ocw">
       .css-ch8ocw{position:relative;display:inline-block;height:30px;padding:0 12px;font-size:14px;line-height:30px;color:#1772F6;vertical-align:top;border-radius:100px;background:rgba(23,114,246,0.1);}.css-ch8ocw:hover{background-color:rgba(23,114,246,0.15);}
      </style>
      <div class="Tag Topic css-ch8ocw">
       <span class="Tag-content">
        <a class="TopicLink" href="//www.zhihu.com/topic/26738378" target="_blank">
         <style data-emotion-css="1xlfegr">
          .css-1xlfegr{background:transparent;box-shadow:none;}
         </style>
         <style data-emotion-css="1gomreu">
          .css-1gomreu{position:relative;display:inline-block;}
         </style>
         <div class="css-1gomreu">
          chat Gpt
         </div>
        </a>
       </span>
      </div>
      <div class="Tag Topic css-ch8ocw">
       <span class="Tag-content">
        <a class="TopicLink" href="//www.zhihu.com/topic/25472112" target="_blank">
         <div class="css-1gomreu">
          AI虚拟主播
         </div>
        </a>
       </span>
      </div>
      <div class="Tag Topic css-ch8ocw">
       <span class="Tag-content">
        <a class="TopicLink" href="//www.zhihu.com/topic/20741261" target="_blank">
         <div class="css-1gomreu">
          虚拟UP主
         </div>
        </a>
       </span>
      </div>
     </div>
    </div>
    <div>
     <div class="Sticky RichContent-actions is-bottom">
      <div class="ContentItem-actions">
       <span>
        <button aria-label="赞同 246 " aria-live="polite" class="Button VoteButton VoteButton--up FEfUrdfMIKpQDJDqkjte" type="button">
         <span style="display:inline-flex;align-items:center">
          ​
          <svg class="Zi Zi--TriangleUp VoteButton-TriangleUp" fill="currentColor" height="10" viewbox="0 0 24 24" width="10">
           <path clip-rule="evenodd" d="M13.792 3.681c-.781-1.406-2.803-1.406-3.584 0l-7.79 14.023c-.76 1.367.228 3.046 1.791 3.046h15.582c1.563 0 2.55-1.68 1.791-3.046l-7.79-14.023Z" fill-rule="evenodd">
           </path>
          </svg>
         </span>
         赞同 246
        </button>
        <button aria-label="反对" aria-live="polite" class="Button VoteButton VoteButton--down FEfUrdfMIKpQDJDqkjte" type="button">
         <span style="display:inline-flex;align-items:center">
          ​
          <svg class="Zi Zi--TriangleDown" fill="currentColor" height="10" viewbox="0 0 24 24" width="10">
           <path clip-rule="evenodd" d="M13.792 20.319c-.781 1.406-2.803 1.406-3.584 0L2.418 6.296c-.76-1.367.228-3.046 1.791-3.046h15.582c1.563 0 2.55 1.68 1.791 3.046l-7.79 14.023Z" fill-rule="evenodd">
           </path>
          </svg>
         </span>
        </button>
       </span>
       <button class="Button BottomActions-CommentBtn FEfUrdfMIKpQDJDqkjte Button--plain Button--withIcon Button--withLabel fEPKGkUK5jyc4fUuT0QP B46v1Ak6Gj5sL2JTS4PY RuuQ6TOh2cRzJr6WlyQp" type="button">
        <span style="display:inline-flex;align-items:center">
         ​
         <svg class="Zi Zi--Comment Button-zi t2ntD6J1DemdOdvh5FB4" fill="currentColor" height="1.2em" viewbox="0 0 24 24" width="1.2em">
          <path clip-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" fill-rule="evenodd">
          </path>
         </svg>
        </span>
        46 条评论
       </button>
       <div class="Popover ShareMenu">
        <div aria-expanded="false" aria-haspopup="true" aria-owns="null-content" class="ShareMenu-toggler" id="null-toggle">
         <button class="Button FEfUrdfMIKpQDJDqkjte Button--plain Button--withIcon Button--withLabel fEPKGkUK5jyc4fUuT0QP B46v1Ak6Gj5sL2JTS4PY RuuQ6TOh2cRzJr6WlyQp" type="button">
          <span style="display:inline-flex;align-items:center">
           ​
           <svg class="Zi Zi--Share Button-zi t2ntD6J1DemdOdvh5FB4" fill="currentColor" height="1.2em" viewbox="0 0 24 24" width="1.2em">
            <path d="M19.47 1.914a.8.8 0 0 1 1.204.778l-1.872 16.386a.9.9 0 0 1-1.204.743l-4.615-1.692a.7.7 0 0 0-.831.28l-1.927 3.02c-.43.674-1.474.369-1.474-.43v-3.865a.8.8 0 0 1 .179-.504l5.808-7.148a.595.595 0 0 0-.897-.781l-5.93 6.354a1.1 1.1 0 0 1-1.258.252L2.57 13.46a.8.8 0 0 1-.08-1.415l16.98-10.13Z">
            </path>
           </svg>
          </span>
          分享
         </button>
        </div>
       </div>
       <button aria-live="polite" class="Button ContentItem-action FEfUrdfMIKpQDJDqkjte Button--plain Button--withIcon Button--withLabel fEPKGkUK5jyc4fUuT0QP B46v1Ak6Gj5sL2JTS4PY RuuQ6TOh2cRzJr6WlyQp" type="button">
        <span style="display:inline-flex;align-items:center">
         ​
         <svg class="Zi Zi--Heart Button-zi t2ntD6J1DemdOdvh5FB4" fill="currentColor" height="1.2em" viewbox="0 0 24 24" width="1.2em">
          <path clip-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" fill-rule="evenodd">
          </path>
         </svg>
        </span>
        喜欢
       </button>
       <button class="Button FEfUrdfMIKpQDJDqkjte Button--plain Button--withIcon Button--withLabel fEPKGkUK5jyc4fUuT0QP B46v1Ak6Gj5sL2JTS4PY RuuQ6TOh2cRzJr6WlyQp" type="button">
        <span style="display:inline-flex;align-items:center">
         ​
         <svg class="Zi Zi--Star Button-zi t2ntD6J1DemdOdvh5FB4" fill="currentColor" height="1.2em" viewbox="0 0 24 24" width="1.2em">
          <path d="M10.484 3.307c.673-1.168 2.358-1.168 3.032 0l2.377 4.122a.25.25 0 0 0 .165.12l4.655.987c1.319.28 1.84 1.882.937 2.884l-3.186 3.535a.25.25 0 0 0-.063.193l.5 4.733c.142 1.34-1.222 2.33-2.453 1.782l-4.346-1.938a.25.25 0 0 0-.204 0l-4.346 1.938c-1.231.549-2.595-.442-2.453-1.782l.5-4.733a.25.25 0 0 0-.064-.193L2.35 11.42c-.903-1.002-.382-2.604.937-2.884l4.655-.987a.25.25 0 0 0 .164-.12l2.378-4.122Z">
          </path>
         </svg>
        </span>
        收藏
       </button>
       <button class="Button ContentItem-action FEfUrdfMIKpQDJDqkjte Button--plain Button--withIcon Button--withLabel fEPKGkUK5jyc4fUuT0QP B46v1Ak6Gj5sL2JTS4PY RuuQ6TOh2cRzJr6WlyQp" type="button">
        <span style="display:inline-flex;align-items:center">
         ​
         <svg class="Zi Zi--Deliver Button-zi t2ntD6J1DemdOdvh5FB4" fill="currentColor" height="1.2em" viewbox="0 0 24 24" width="1.2em">
          <g clip-rule="evenodd" fill-rule="evenodd">
           <path d="M7.821 12a.75.75 0 0 1 .75-.75h6.857a.75.75 0 0 1 0 1.5H8.571a.75.75 0 0 1-.75-.75ZM8.965 8a.75.75 0 0 1 .75-.75h4.571a.75.75 0 0 1 0 1.5H9.715a.75.75 0 0 1-.75-.75Z">
           </path>
           <path d="M7.527 3.15a2.35 2.35 0 0 0-2.309 1.91L3.165 15.84a.85.85 0 0 0-.015.16v2.5a2.35 2.35 0 0 0 2.35 2.35h13a2.35 2.35 0 0 0 2.35-2.35V16a.848.848 0 0 0-.015-.16L18.78 5.06a2.35 2.35 0 0 0-2.308-1.91H7.527Zm0 1.7a.65.65 0 0 0-.639.528l-1.88 9.872h13.984l-1.88-9.872a.65.65 0 0 0-.64-.528H7.528Z">
           </path>
          </g>
         </svg>
        </span>
        申请转载
       </button>
       <div class="Post-ActionMenuButton">
        <div class="Popover">
         <div aria-expanded="false" aria-haspopup="true" aria-owns="null-content" id="null-toggle">
          <button class="Button FEfUrdfMIKpQDJDqkjte Button--plain Button--withIcon Button--iconOnly fEPKGkUK5jyc4fUuT0QP B46v1Ak6Gj5sL2JTS4PY hIwDV_tcL6XN1HprrnAq" type="button">
           <span style="display:inline-flex;align-items:center">
            ​
            <svg class="Zi Zi--Dots Button-zi t2ntD6J1DemdOdvh5FB4" fill="currentColor" height="1.2em" viewbox="0 0 24 24" width="1.2em">
             <path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z">
             </path>
            </svg>
           </span>
          </button>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
   </article>
   <div class="Post-Sub Post-NormalSub">
   </div>
  </div>
 </main>
</div>

</body>
</html>
